
#import <Foundation/Foundation.h>

NSString *StringFromBrushData(Byte *data);        


//: FFFKitEventNameTapAudio
Byte moduleQuietSlideValue[] = {39, 23, 37, 14, 165, 99, 59, 100, 41, 187, 131, 167, 164, 248, 33, 33, 33, 38, 68, 79, 32, 81, 64, 73, 79, 41, 60, 72, 64, 47, 60, 75, 28, 80, 63, 68, 74, 223};

//: icon_receiver_voice_playing_001
Byte k_stepSheetTimer[] = {89, 31, 28, 9, 163, 143, 240, 231, 188, 77, 71, 83, 82, 67, 86, 73, 71, 73, 77, 90, 73, 86, 67, 90, 83, 77, 71, 73, 67, 84, 80, 69, 93, 77, 82, 75, 67, 20, 20, 21, 66};

//: icon_receiver_voice_playing_010
Byte globalCountmitCurveMessage[] = {81, 31, 88, 7, 77, 189, 107, 17, 11, 23, 22, 7, 26, 13, 11, 13, 17, 30, 13, 26, 7, 30, 23, 17, 11, 13, 7, 24, 20, 9, 33, 17, 22, 15, 7, 216, 217, 216, 4};

//: icon_receiver_voice_playing_002
Byte layoutSpokeIconDate[] = {91, 31, 1, 10, 187, 192, 50, 139, 78, 21, 104, 98, 110, 109, 94, 113, 100, 98, 100, 104, 117, 100, 113, 94, 117, 110, 104, 98, 100, 94, 111, 107, 96, 120, 104, 109, 102, 94, 47, 47, 49, 49};

//: icon_receiver_voice_playing_009
Byte themeVastDriveHelper[] = {95, 31, 85, 11, 96, 130, 176, 157, 208, 146, 9, 20, 14, 26, 25, 10, 29, 16, 14, 16, 20, 33, 16, 29, 10, 33, 26, 20, 14, 16, 10, 27, 23, 12, 36, 20, 25, 18, 10, 219, 219, 228, 124};

//: icon_receiver_voice_playing_w
Byte globalSubtleEvent[] = {21, 29, 26, 4, 79, 73, 85, 84, 69, 88, 75, 73, 75, 79, 92, 75, 88, 69, 92, 85, 79, 73, 75, 69, 86, 82, 71, 95, 79, 84, 77, 69, 93, 218};

//: icon_voice_plus_b
Byte dataGentleBrilliantPath[] = {53, 17, 95, 6, 4, 155, 10, 4, 16, 15, 0, 23, 16, 10, 4, 6, 0, 17, 13, 22, 20, 0, 3, 56};

//: icon_receiver_voice_playing_003
Byte viewTrendID[] = {73, 31, 36, 14, 136, 116, 104, 142, 4, 217, 135, 227, 53, 183, 69, 63, 75, 74, 59, 78, 65, 63, 65, 69, 82, 65, 78, 59, 82, 75, 69, 63, 65, 59, 76, 72, 61, 85, 69, 74, 67, 59, 12, 12, 15, 227};

//: icon_receiver_voice_playing_005
Byte dataBorderNumber[] = {16, 31, 38, 5, 17, 67, 61, 73, 72, 57, 76, 63, 61, 63, 67, 80, 63, 76, 57, 80, 73, 67, 61, 63, 57, 74, 70, 59, 83, 67, 72, 65, 57, 10, 10, 15, 49};

//: icon_receiver_voice_playing_004
Byte componentMineRowValue[] = {6, 31, 30, 7, 178, 250, 153, 75, 69, 81, 80, 65, 84, 71, 69, 71, 75, 88, 71, 84, 65, 88, 81, 75, 69, 71, 65, 82, 78, 67, 91, 75, 80, 73, 65, 18, 18, 22, 168};

//: icon_receiver_voice_playing_007
Byte constParticleTitle[] = {35, 31, 76, 11, 169, 9, 12, 134, 122, 106, 103, 29, 23, 35, 34, 19, 38, 25, 23, 25, 29, 42, 25, 38, 19, 42, 35, 29, 23, 25, 19, 36, 32, 21, 45, 29, 34, 27, 19, 228, 228, 235, 233};

//: icon_receiver_voice_playing
Byte themeCellURL[] = {25, 27, 31, 5, 1, 74, 68, 80, 79, 64, 83, 70, 68, 70, 74, 87, 70, 83, 64, 87, 80, 74, 68, 70, 64, 81, 77, 66, 90, 74, 79, 72, 91};

//: icon_voice_play_b
Byte networkPlaceMindEvent[] = {7, 17, 62, 4, 43, 37, 49, 48, 33, 56, 49, 43, 37, 39, 33, 50, 46, 35, 59, 33, 36, 170};

//: icon_receiver_voice_playing_006
Byte dataSupplyNumber[] = {27, 31, 75, 11, 123, 162, 133, 229, 86, 40, 85, 30, 24, 36, 35, 20, 39, 26, 24, 26, 30, 43, 26, 39, 20, 43, 36, 30, 24, 26, 20, 37, 33, 22, 46, 30, 35, 28, 20, 229, 229, 235, 29};

//: icon_receiver_voice_playing_008
Byte kLoopEvent[] = {89, 31, 2, 14, 49, 2, 89, 8, 224, 128, 98, 91, 224, 115, 103, 97, 109, 108, 93, 112, 99, 97, 99, 103, 116, 99, 112, 93, 116, 109, 103, 97, 99, 93, 110, 106, 95, 119, 103, 108, 101, 93, 46, 46, 54, 217};

// __DEBUG__
// __CLOSE_PRINT__
//
//  SessionAudioCententView.m
//  NIMDemo
//
//  Created by chris.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "GorgePoolSaturationRing.h"
#import "GorgePoolSaturationRing.h"
//: #import "RemoveTrianglesRiver.h"
#import "RemoveTrianglesRiver.h"
//: #import "GlacierVisibilityMagnify.h"
#import "GlacierVisibilityMagnify.h"
//: #import "UIImage+InkwellValidateSplitShell.h"
#import "UIImage+InkwellValidateSplitShell.h"
//: #import "ResumeFilePrefetchFeather.h"
#import "ResumeFilePrefetchFeather.h"
//: #import "InkwellValidateSplitShell.h"
#import "InkwellValidateSplitShell.h"
//: #import "UIColor+InkwellValidateSplitShell.h"
#import "UIColor+InkwellValidateSplitShell.h"

//: @interface GorgePoolSaturationRing()<NIMMediaManagerDelegate>
@interface GorgePoolSaturationRing()<NIMMediaManagerDelegate>

//: @property (nonatomic,strong) UIImageView *voiceImageView;
@property (nonatomic,strong) UIImageView *powerSort;
//: @property (nonatomic,strong) UILabel *durationLabel;
@property (nonatomic,strong) UILabel *exclude;

//: @property (nonatomic,strong) UIImageView *voiceImageViewleft;
@property (nonatomic,strong) UIImageView *radio;
//: @property (nonatomic,strong) UIImageView *voicePlayViewleft;
@property (nonatomic,strong) UIImageView *snapView;

//: @property (nonatomic,strong) UIImageView *voicePlayView;
@property (nonatomic,strong) UIImageView *contact;

//: @end
@end

//: @implementation GorgePoolSaturationRing
@implementation GorgePoolSaturationRing

//: -(instancetype)initSessionMessageContentView{
-(instancetype)initContactPressure{
    //: self = [super initSessionMessageContentView];
    self = [super initContactPressure];
    //: if (self) {
    if (self) {
        //: [self addVoiceView];
        [self beyondPerformScale];
        //: [[NIMSDK sharedSDK].mediaManager addDelegate:self];
        [[NIMSDK sharedSDK].mediaManager addDelegate:self];
    }
    //: return self;
    return self;
}

//: - (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
- (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
{
    //: [self stopPlayingUI];
    [self featureTask];
}

//: - (void)refresh:(GlacierVisibilityMagnify *)data {
- (void)low:(GlacierVisibilityMagnify *)data {
    //: [super refresh:data];
    [super low:data];
    //: NIMAudioObject *object = self.model.message.messageObject;
    NIMAudioObject *object = self.replaceMax.drawingAbort.messageObject;
    //: self.durationLabel.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];
    self.exclude.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];//四舍五入

    //: RestoreMelodyValue *setting = [[InkwellValidateSplitShell sharedKit].config setting:data.message];
    RestoreMelodyValue *setting = [[InkwellValidateSplitShell sub].whisperPath impactDominant:data.drawingAbort];

    //: self.durationLabel.font = setting.font;
    self.exclude.font = setting.episode;
    //: self.durationLabel.textColor = setting.textColor;
    self.exclude.textColor = setting.verse;
    //: [self.durationLabel sizeToFit];
    [self.exclude sizeToFit];

    //: [self setPlaying:self.isPlaying];
    [self setPart:self.error];
    //: [self refreshBackground:data];
    [self that:data];
}

//: -(void)onTouchUpInside:(id)sender
-(void)exclusiveAcross:(id)sender
{
    //: if ([self.model.message attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
    if ([self.replaceMax.drawingAbort attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
        //: || [self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        || [self.replaceMax.drawingAbort attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        //: [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.model.message
        [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.replaceMax.drawingAbort
                                                           //: error:nil];
                                                           error:nil];
        //: return;
        return;
    }
    //: if ([self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {
    if ([self.replaceMax.drawingAbort attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {

        //: if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
        if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
            //: [self stopPlayingUI];
            [self featureTask];
        }

        //: PrairieDataDiffuseOuterPoint *event = [[PrairieDataDiffuseOuterPoint alloc] init];
        PrairieDataDiffuseOuterPoint *event = [[PrairieDataDiffuseOuterPoint alloc] init];
        //: event.eventName = @"FFFKitEventNameTapAudio";
        event.component = StringFromBrushData(moduleQuietSlideValue);
        //: event.messageModel = self.model;
        event.big = self.replaceMax;
        //: [self.delegate onCatchEvent:event];
        [self.curveExactses brightsed:event];

    }
}

//: - (void)setPlaying:(BOOL)isPlaying
- (void)setPart:(BOOL)isPlaying
{
    //: if (isPlaying) {
    if (isPlaying) {
        //: [self.voiceImageView startAnimating];
        [self.powerSort startAnimating];
        //: [self.voiceImageViewleft startAnimating];
        [self.radio startAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _snapView.image = [UIImage imageNamed:StringFromBrushData(dataGentleBrilliantPath)];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _contact.image = [UIImage imageNamed:StringFromBrushData(dataGentleBrilliantPath)];
    //: }else{
    }else{
        //: [self.voiceImageView stopAnimating];
        [self.powerSort stopAnimating];
        //: [self.voiceImageViewleft stopAnimating];
        [self.radio stopAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _snapView.image = [UIImage imageNamed:StringFromBrushData(networkPlaceMindEvent)];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _contact.image = [UIImage imageNamed:StringFromBrushData(networkPlaceMindEvent)];
    }
}

//: - (void)addVoiceView{
- (void)beyondPerformScale{
    //: _audioBackgroundView = [[UIView alloc] initWithFrame:CGRectZero];
    _scatter = [[UIView alloc] initWithFrame:CGRectZero];
    //: _audioBackgroundView.layer.cornerRadius = 16.f;
    _scatter.layer.cornerRadius = 16.f;
    //: _audioBackgroundView.userInteractionEnabled = NO;
    _scatter.userInteractionEnabled = NO;
    //: [self addSubview:_audioBackgroundView];
    [self addSubview:_scatter];


    //: _voicePlayViewleft = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _snapView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:StringFromBrushData(networkPlaceMindEvent)]];
    //: [self addSubview:_voicePlayViewleft];
    [self addSubview:_snapView];
    //: _voicePlayViewleft.hidden = YES;
    _snapView.hidden = YES;
    //: _voicePlayView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _contact = [[UIImageView alloc]initWithImage:[UIImage imageNamed:StringFromBrushData(networkPlaceMindEvent)]];
    //: [self addSubview:_voicePlayView];
    [self addSubview:_contact];
    //: _voicePlayView.hidden = YES;
    _contact.hidden = YES;

    //: UIImage *image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
    UIImage *image = [UIImage imageNamed:StringFromBrushData(globalSubtleEvent)];
    //: _voiceImageView = [[UIImageView alloc] initWithImage:image];
    _powerSort = [[UIImageView alloc] initWithImage:image];
    //: NSArray *animateNames = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames = @[StringFromBrushData(k_stepSheetTimer),StringFromBrushData(layoutSpokeIconDate),StringFromBrushData(viewTrendID),StringFromBrushData(componentMineRowValue),StringFromBrushData(dataBorderNumber),StringFromBrushData(dataSupplyNumber),StringFromBrushData(constParticleTitle),StringFromBrushData(kLoopEvent),StringFromBrushData(themeVastDriveHelper),StringFromBrushData(globalCountmitCurveMessage)];
    //: NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    //: for (NSString * animateName in animateNames) {
    for (NSString * animateName in animateNames) {
        //: UIImage * animateImage = [UIImage imageNamed:animateName];
        UIImage * animateImage = [UIImage imageNamed:animateName];
        //: [animationImages addObject:animateImage];
        [animationImages addObject:animateImage];
    }
    //: _voiceImageView.animationImages = animationImages;
    _powerSort.animationImages = animationImages;
    //: _voiceImageView.animationDuration = 1.0;
    _powerSort.animationDuration = 1.0;
    //: [self addSubview:_voiceImageView];
    [self addSubview:_powerSort];
    //: _voiceImageView.hidden = YES;
    _powerSort.hidden = YES;

    //: _voiceImageViewleft = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"icon_receiver_voice_playing"]];
    _radio = [[UIImageView alloc] initWithImage:[UIImage imageNamed:StringFromBrushData(themeCellURL)]];
    //: NSArray *animateNames2 = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames2 = @[StringFromBrushData(k_stepSheetTimer),StringFromBrushData(layoutSpokeIconDate),StringFromBrushData(viewTrendID),StringFromBrushData(componentMineRowValue),StringFromBrushData(dataBorderNumber),StringFromBrushData(dataSupplyNumber),StringFromBrushData(constParticleTitle),StringFromBrushData(kLoopEvent),StringFromBrushData(themeVastDriveHelper),StringFromBrushData(globalCountmitCurveMessage)];
    //: NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    //: for (NSString *animateName2 in animateNames2) {
    for (NSString *animateName2 in animateNames2) {
        //: UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        //: [animationImages2 addObject:animateImage2];
        [animationImages2 addObject:animateImage2];
    }
    //: _voiceImageViewleft.animationImages = animationImages2;
    _radio.animationImages = animationImages2;
    //: _voiceImageViewleft.animationDuration = 1.0;
    _radio.animationDuration = 1.0;
    //: [self addSubview:_voiceImageViewleft];
    [self addSubview:_radio];
    //: _voiceImageViewleft.hidden = YES;
    _radio.hidden = YES;

    //: _durationLabel = [[UILabel alloc] initWithFrame:CGRectZero];
    _exclude = [[UILabel alloc] initWithFrame:CGRectZero];
    //: _durationLabel.backgroundColor = [UIColor clearColor];
    _exclude.backgroundColor = [UIColor clearColor];
    //: [self addSubview:_durationLabel];
    [self addSubview:_exclude];

}

//: - (void)dealloc
- (void)dealloc
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
    [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
}

//: #pragma mark - NIMMediaManagerDelegate
#pragma mark - NIMMediaManagerDelegate

//: - (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
- (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
    //: if(filePath && !error) {
    if(filePath && !error) {
        //: if (self.isPlaying && [self.audioUIDelegate respondsToSelector:@selector(startPlayingAudioUI)]) {
        if (self.error && [self.automatic respondsToSelector:@selector(derivePrivate)]) {
            //: [self.audioUIDelegate startPlayingAudioUI];
            [self.automatic derivePrivate];
        }
    }
}

//: - (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
- (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
{
    //: [self stopPlayingUI];
    [self featureTask];
}

//: - (BOOL)isPlaying
- (BOOL)error
{
    //: BOOL play = [ResumeFilePrefetchFeather instance].currentPlayingMessage == self.model.message; 
    BOOL play = [ResumeFilePrefetchFeather global].careful == self.replaceMax.drawingAbort; //对比是否是同一条消息，严格同一条，不能是相同ID，防止进了会话又进云端消息界面，导致同一个ID的云消息也在动画
    //: return play;
    return play;
}

//: - (void)layoutSubviews{
- (void)layoutSubviews{
    //: [super layoutSubviews];
    [super layoutSubviews];
    //: UIEdgeInsets contentInsets = self.model.contentViewInsets;
    UIEdgeInsets contentInsets = self.replaceMax.grain;
    //: switch (self.layoutStyle) {
    switch (self.curWindow) {
        //: case SearchPublishMeasuredSizeLayoutLeft: {
        case SearchPublishMeasuredSizeLayoutLeft: {
//            _voiceImageView.transform = CGAffineTransformIdentity;
//            self.voiceImageView.left = contentInsets.left * 2;
            //: self.voiceImageViewleft.left = contentInsets.left * 2;
            self.radio.mildAppropriate = contentInsets.left * 2;
             //: _durationLabel.right = self.width - contentInsets.right * 2;
             _exclude.central = self.totalerest - contentInsets.right * 2;
            //: break;
            break;
        }
        //: case SearchPublishMeasuredSizeLayoutRight: {
        case SearchPublishMeasuredSizeLayoutRight: {
//            _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);
            //: self.voiceImageView.right = self.width - contentInsets.right * 2;
            self.powerSort.central = self.totalerest - contentInsets.right * 2;
            //: _durationLabel.left = contentInsets.left;
            _exclude.mildAppropriate = contentInsets.left;
            //: break;
            break;
        }
        //: case SearchPublishMeasuredSizeLayoutAuto:
        case SearchPublishMeasuredSizeLayoutAuto:
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.replaceMax.drawingAbort.isOutgoingMsg) {
//                _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);


                //: self.voicePlayView.left = contentInsets.left;
                self.contact.mildAppropriate = contentInsets.left;
                //: self.voiceImageView.left = self.voicePlayView.right+10;
                self.powerSort.mildAppropriate = self.contact.central+10;
                //: _durationLabel.left = self.voiceImageView.right+10;
                _exclude.mildAppropriate = self.powerSort.central+10;

            //: } else {
            } else {
//                _voiceImageView.transform = CGAffineTransformIdentity;
//               self.voiceImageView.left = contentInsets.left;

                //: self.voicePlayViewleft.left = contentInsets.left;
                self.snapView.mildAppropriate = contentInsets.left;
                //: self.voiceImageViewleft.left = self.voicePlayViewleft.right+10;
                self.radio.mildAppropriate = self.snapView.central+10;
                //: _durationLabel.left = self.voiceImageViewleft.right+10;
                _exclude.mildAppropriate = self.radio.central+10;
            }
            //: break;
            break;
        }
    }
    //: _voiceImageView.width = 62;
    _powerSort.totalerest = 62;
    //: _voiceImageView.height = 18;
    _powerSort.deliveryChapter = 18;
    //: _voiceImageView.centerY = self.height * .5f;
    _powerSort.resolution = self.deliveryChapter * .5f;

    //: _voiceImageViewleft.width = 62;
    _radio.totalerest = 62;
    //: _voiceImageViewleft.height = 18;
    _radio.deliveryChapter = 18;
    //: _voiceImageViewleft.centerY = self.height * .5f;
    _radio.resolution = self.deliveryChapter * .5f;

    //: _voicePlayView.width = 16;
    _contact.totalerest = 16;
    //: _voicePlayView.height = 16;
    _contact.deliveryChapter = 16;
    //: _voicePlayView.centerY = self.height * .5f;
    _contact.resolution = self.deliveryChapter * .5f;

    //: _voicePlayViewleft.width = 16;
    _snapView.totalerest = 16;
    //: _voicePlayViewleft.height = 16;
    _snapView.deliveryChapter = 16;
    //: _voicePlayViewleft.centerY = self.height * .5f;
    _snapView.resolution = self.deliveryChapter * .5f;

    //: _durationLabel.centerY = _voiceImageView.centerY;
    _exclude.resolution = _powerSort.resolution;

    //: CGFloat backgroundWidth = 0;
    CGFloat backgroundWidth = 0;
    //: CGFloat backgroundLeft = 0;
    CGFloat backgroundLeft = 0;
    //: switch (self.layoutStyle) {
    switch (self.curWindow) {
        //: case SearchPublishMeasuredSizeLayoutLeft:
        case SearchPublishMeasuredSizeLayoutLeft:
            {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.totalerest - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        //: case SearchPublishMeasuredSizeLayoutRight:
        case SearchPublishMeasuredSizeLayoutRight:
            {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.totalerest - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            }
            //: break;
            break;
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.replaceMax.drawingAbort.isOutgoingMsg) {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.totalerest - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            //: } else {
            } else {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.totalerest - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        }
    }
    //: _audioBackgroundView.size = CGSizeMake(backgroundWidth,
    _scatter.next = CGSizeMake(backgroundWidth,
                                               //: self.height - 4);
                                               self.deliveryChapter - 4);
    //: _audioBackgroundView.left = backgroundLeft;
    _scatter.mildAppropriate = backgroundLeft;
    //: _audioBackgroundView.top = 2;
    _scatter.bookPop = 2;
}

//: - (void)refreshBackground:(GlacierVisibilityMagnify *)data
- (void)that:(GlacierVisibilityMagnify *)data
{
    //: if (data.shouldShowLeft)
    if (data.leap)
    {
        //: _voiceImageViewleft.hidden = NO;
        _radio.hidden = NO;
        //: _voiceImageView.hidden = YES;
        _powerSort.hidden = YES;
        //: _voicePlayViewleft.hidden = NO;
        _snapView.hidden = NO;
        //: _voicePlayView.hidden = YES;
        _contact.hidden = YES;
    }
    //: else
    else
    {
//        _voiceImageView.image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
        //: _voiceImageViewleft.hidden = YES;
        _radio.hidden = YES;
        //: _voiceImageView.hidden = NO;
        _powerSort.hidden = NO;
        //: _voicePlayViewleft.hidden = YES;
        _snapView.hidden = YES;
        //: _voicePlayView.hidden = NO;
        _contact.hidden = NO;
    }
}

//: #pragma mark - private methods
#pragma mark - private methods
//: - (void)stopPlayingUI
- (void)featureTask
{
    //: [self setPlaying:NO];
    [self setPart:NO];
}


//- (NSString *)convertToTimeStringWithTimeInterval:(NSTimeInterval)timeInterval{
//    NSDate *date = [NSDate dateWithTimeIntervalSince1970:timeInterval];
//    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
//    [dateFormatter setDateFormat:@"HH:mm"];
//    NSString *dateStsring = [dateFormatter stringFromDate:date];
//    return dateStsring;
//}

//: @end
@end

Byte * BrushDataToCache(Byte *data) {
    int happy = data[0];
    int drop = data[1];
    Byte aspectSecure = data[2];
    int cleanFragment = data[3];
    if (!happy) return data + cleanFragment;
    for (int i = cleanFragment; i < cleanFragment + drop; i++) {
        int value = data[i] + aspectSecure;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[cleanFragment + drop] = 0;
    return data + cleanFragment;
}

NSString *StringFromBrushData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)BrushDataToCache(data)];
}
