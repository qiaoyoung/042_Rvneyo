
#import <Foundation/Foundation.h>

NSString *StringFromTensionAbsoluteData(Byte *data);        


//: %@.jpg
Byte k_consistentURL[] = {16, 6, 8, 13, 115, 112, 233, 234, 139, 231, 171, 22, 129, 29, 56, 38, 98, 104, 95, 252};

//: jpg
Byte kPoolSignatureHelper[] = {74, 3, 78, 10, 135, 134, 89, 158, 236, 83, 28, 34, 25, 38};

//: lang
Byte constDepthJourneyKey[] = {86, 4, 39, 6, 24, 71, 69, 58, 71, 64, 36};

//: Nonce
Byte constComplexError[] = {68, 5, 23, 4, 55, 88, 87, 76, 78, 223};

//: systemSetting
Byte layoutAbortComputeFormat[] = {94, 13, 98, 5, 206, 17, 23, 17, 18, 3, 11, 241, 3, 18, 18, 7, 12, 5, 193};

//: image/%@
Byte styleValueEventConfig[] = {68, 8, 85, 14, 40, 234, 210, 157, 26, 13, 85, 175, 102, 248, 20, 24, 12, 18, 16, 218, 208, 235, 249};

//: application/json
Byte widgetResponseTimeNumber[] = {12, 16, 76, 7, 213, 197, 117, 21, 36, 36, 32, 29, 23, 21, 40, 29, 35, 34, 227, 30, 39, 35, 34, 103};

//: AppKey
Byte colorPriorityPlatform[] = {40, 6, 44, 5, 99, 21, 68, 68, 31, 57, 77, 203};

//: xiaokaapi.com
Byte k_genuineReflectPlatform[] = {21, 13, 88, 14, 170, 94, 75, 152, 192, 137, 171, 126, 13, 147, 32, 17, 9, 23, 19, 9, 9, 24, 17, 214, 11, 23, 21, 134};

//: image/jpg
Byte constWarmSpringConfig[] = {72, 9, 26, 13, 236, 112, 127, 115, 75, 147, 223, 72, 63, 79, 83, 71, 77, 75, 21, 80, 86, 77, 240};

//: image
Byte k_fillValue[] = {3, 5, 43, 12, 179, 240, 177, 92, 249, 78, 138, 45, 62, 66, 54, 60, 58, 150};

//: text/json
Byte networkLeapDepthTimer[] = {58, 9, 88, 14, 143, 226, 251, 229, 93, 169, 107, 159, 162, 216, 28, 13, 32, 28, 215, 18, 27, 23, 22, 6};

//: text/plain
Byte kCoolNumber[] = {73, 10, 40, 8, 181, 205, 8, 131, 76, 61, 80, 76, 7, 72, 68, 57, 65, 70, 248};

//: video
Byte themeSubtleKey[] = {18, 5, 35, 11, 53, 48, 97, 237, 158, 27, 124, 83, 70, 65, 66, 76, 51};

//: picture
Byte colorStackVersion[] = {1, 7, 47, 5, 139, 65, 58, 52, 69, 70, 67, 54, 164};

//: http
Byte kIdealPath[] = {21, 4, 76, 13, 179, 177, 154, 21, 186, 231, 70, 225, 83, 28, 40, 40, 36, 122};

//: CheckSum
Byte kOutputAlert[] = {21, 8, 23, 9, 175, 177, 135, 157, 251, 44, 81, 78, 76, 84, 60, 94, 86, 110};

//: gif
Byte commonLayerID[] = {87, 3, 25, 6, 107, 120, 78, 80, 77, 180};

//: png
Byte networkCreateValue[] = {11, 3, 39, 10, 164, 136, 229, 93, 7, 251, 73, 71, 64, 10};

//: text/javascript
Byte componentBeginMindVersion[] = {6, 15, 55, 5, 32, 61, 46, 65, 61, 248, 51, 42, 63, 42, 60, 44, 59, 50, 57, 61, 6};

//: video/mp4
Byte layoutMechanismWallPreference[] = {1, 9, 70, 12, 109, 27, 215, 213, 74, 82, 8, 99, 48, 35, 30, 31, 41, 233, 39, 42, 238, 97};

//: Download
Byte moduleStayValue[] = {22, 8, 36, 14, 15, 213, 100, 80, 92, 105, 103, 186, 247, 183, 32, 75, 83, 74, 72, 75, 61, 64, 175};

//: yyyyMMddHHmmss
Byte commonSubtleToken[] = {88, 14, 11, 12, 226, 92, 43, 208, 101, 92, 68, 147, 110, 110, 110, 110, 66, 66, 89, 89, 61, 61, 98, 98, 104, 104, 11};

//: text/html
Byte colorBroadDate[] = {92, 9, 4, 5, 172, 112, 97, 116, 112, 43, 100, 112, 105, 104, 75};

//: ismustmobile
Byte componentTenderEvent[] = {83, 12, 80, 11, 48, 203, 155, 152, 121, 57, 157, 25, 35, 29, 37, 35, 36, 29, 31, 18, 25, 28, 21, 124};

//: token
Byte dataFlameGroupDict[] = {1, 5, 59, 9, 48, 244, 7, 223, 73, 57, 52, 48, 42, 51, 42};

//: loginip
Byte themeDistinctiveTime[] = {95, 7, 31, 13, 29, 68, 193, 117, 66, 117, 5, 129, 177, 77, 80, 72, 74, 79, 74, 81, 99};

//: CurTime
Byte kFactoryName[] = {26, 7, 9, 11, 154, 136, 47, 83, 47, 126, 245, 58, 108, 105, 75, 96, 100, 92, 12};

//: langs
Byte layoutDropMusePreference[] = {85, 5, 74, 7, 87, 33, 68, 34, 23, 36, 29, 41, 210};

//: %@.mp4
Byte userCircuitAlert[] = {3, 6, 59, 9, 13, 89, 37, 48, 194, 234, 5, 243, 50, 53, 249, 224};

//: cer
Byte viewMendLinkDate[] = {32, 3, 82, 4, 17, 19, 32, 141};

//: appSetting
Byte screenGladQuantityeractValue[] = {44, 10, 42, 10, 180, 163, 75, 48, 181, 208, 55, 70, 70, 41, 59, 74, 74, 63, 68, 61, 187};

// __DEBUG__
// __CLOSE_PRINT__
//
//  ConfigPrimalCozy.m
//  ZCBusinessCar
//
//  Created by peng on 2021/2/24.
//

// __M_A_C_R_O__
//: #import "ConfigPrimalCozy.h"
#import "ConfigPrimalCozy.h"
//: #import<CommonCrypto/CommonDigest.h>
#import<CommonCrypto/CommonDigest.h>
//: #import "DiffuseStubCoordinatorBrilliant.h"
#import "DiffuseStubCoordinatorBrilliant.h"
//: #import "ChannelMeasureAboveFeather.h"
#import "ChannelMeasureAboveFeather.h"

//: @interface ConfigPrimalCozy ()
@interface ConfigPrimalCozy ()

//: @property (nonatomic,strong) AFHTTPSessionManager *manager;
@property (nonatomic,strong) AFHTTPSessionManager *crop;

//: @end
@end

//: @implementation ConfigPrimalCozy
@implementation ConfigPrimalCozy

//: - (NSMutableDictionary *)taskQueue{
- (NSMutableDictionary *)player{
//    NSMutableDictionary *taskDic = objc_getAssociatedObject(self, @selector(addTask:));
//
//    if (!taskDic) {
//        taskDic = @{}.mutableCopy;
//        objc_setAssociatedObject(self, @selector(addTask:), taskDic, OBJC_ASSOCIATION_RETAIN_NONATOMIC);
//    }
//    return taskDic;
    //: return nil;
    return nil;
}

//: + (void)getWithUrl:(NSString *)urlStr
+ (void)beside:(NSString *)urlStr
            //: params:(NSDictionary *)params
            radar:(NSDictionary *)params
            //: isShow:(BOOL)isShow
            episode:(BOOL)isShow
           //: success:(ResponseSuccess)success
           position:(ResponseSuccess)success
            //: failed:(ResponseFailed)failed{
            numbermit:(ResponseFailed)failed{

    //: if (![urlStr containsString:@"http"]){
    if (![urlStr containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: urlStr = RestApi(urlStr);
        urlStr = monthListenIsolate(urlStr);
    }

    //: [self getWithUrl:urlStr params:params isShow:isShow cacheTime:0 mustResrush:YES success:success failed:failed];
    [self rational:urlStr spine:params venture:isShow characteristic:0 trim:YES measure:success value:failed];
}

//: + (void)getWithUrl:(NSString *)urlStr params:(NSDictionary *)params success:(ResponseSuccess)success failed:(ResponseFailed)failed{
+ (void)spine:(NSString *)urlStr totalact:(NSDictionary *)params underNovelEvaluate:(ResponseSuccess)success driver:(ResponseFailed)failed{
    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    // 记录原始超时时间，避免影响后续请求
    //: NSTimeInterval originalTimeout = manager.requestSerializer.timeoutInterval;
    NSTimeInterval originalTimeout = manager.vesselPrepares.mostWorlding;
    //: manager.requestSerializer.timeoutInterval = 5;
    manager.vesselPrepares.mostWorlding = 5;
    //: [manager GET:urlStr
    [manager terrain:urlStr
      //: parameters:params
      aboveEndlessStrong:params
         //: headers:nil
         ember:nil
        //: progress:^(NSProgress * _Nonnull downloadProgress) {
        anDeal:^(NSProgress * _Nonnull downloadProgress) {

        //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        } preserve:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
            // 恢复超时时间
            //: manager.requestSerializer.timeoutInterval = originalTimeout;
            manager.vesselPrepares.mostWorlding = originalTimeout;
            //: if (success) {
            if (success) {
                //: success(responseObject);
                success(responseObject);
            }
        //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        } alongsideLoop:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
            // 恢复超时时间
            //: manager.requestSerializer.timeoutInterval = originalTimeout;
            manager.vesselPrepares.mostWorlding = originalTimeout;
            //: if (failed) {
            if (failed) {
                //: failed(nil, error);
                failed(nil, error);
            }
        //: }];
        }];
}

//: + (NSString *)getNowTimeTimestamp{
+ (NSString *)countactSucceed{

    //: NSDate *datenow = [NSDate date];
    NSDate *datenow = [NSDate date];
    //: NSTimeZone *zone = [NSTimeZone localTimeZone];
    NSTimeZone *zone = [NSTimeZone localTimeZone];
  // 获取指定时间所在时区与UTC时区的间隔秒数
  //: NSInteger seconds = [zone secondsFromGMTForDate:[NSDate date]];
  NSInteger seconds = [zone secondsFromGMTForDate:[NSDate date]];
  //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[datenow timeIntervalSince1970] - seconds];
  NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[datenow timeIntervalSince1970] - seconds];
  //: return timeSp;
  return timeSp;
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)remark: (NSString *)urlStr
             //: params: (NSDictionary *)params
             versionEngine: (NSDictionary *)params
             //: isShow: (BOOL)isShow
             commonOpen: (BOOL)isShow
            //: success: (ResponseSuccess)success
            solutionInReceiver: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed{
             garden: (ResponseFailed)failed{

    //: if (![urlStr containsString:@"http"]){
    if (![urlStr containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: urlStr = RestApi(urlStr);
        urlStr = monthListenIsolate(urlStr);
    }

    //: [self postWithUrl:urlStr params:params isShow:isShow cacheTime:0 mustResrush:YES success:success failed:failed];
    [self barFail:urlStr besideLedge:params trend:isShow sound:0 thatIgnore:YES soundTrend:success video:failed];
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)modern: (NSString *)urlStr
           //: checksum: (NSString *)checksum
           totalensity: (NSString *)checksum
              //: nonce: (NSString *)nonce
              outList: (NSString *)nonce
            //: CurTime: (NSString *)CurTime
            modelDeep: (NSString *)CurTime
             //: params: (NSDictionary *)params
             pin: (NSDictionary *)params
            //: success: (ResponseSuccess)success
            corner: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed
             acceptable: (ResponseFailed)failed
{
    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;

    //添加请求头
    //: NSString *appKey = [[DiffuseStubCoordinatorBrilliant sharedConfig] appKey];
    NSString *appKey = [[DiffuseStubCoordinatorBrilliant always] pull];
    //: [manager.requestSerializer setValue:appKey forHTTPHeaderField:@"AppKey"];
    [manager.vesselPrepares model:appKey house:StringFromTensionAbsoluteData(colorPriorityPlatform)];
//    NSString *nonce = [NSString stringWithFormat:@"%d",arc4random() % 100 ];
    //: [manager.requestSerializer setValue:nonce forHTTPHeaderField:@"Nonce"];
    [manager.vesselPrepares model:nonce house:StringFromTensionAbsoluteData(constComplexError)];
//    NSString *time = [self getNowTimeTimestamp];
    //: [manager.requestSerializer setValue:CurTime forHTTPHeaderField:@"CurTime"];
    [manager.vesselPrepares model:CurTime house:StringFromTensionAbsoluteData(kFactoryName)];
//    NSString *CheckSums = [self sha1:[NSString stringWithFormat:@"%@%@%@",appKey,nonce,time]];
    //: [manager.requestSerializer setValue:checksum forHTTPHeaderField:@"CheckSum"];
    [manager.vesselPrepares model:checksum house:StringFromTensionAbsoluteData(kOutputAlert)];


    //: NSURLSessionDataTask *task = [manager POST:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull uploadProgress) {
    NSURLSessionDataTask *task = [manager sound:urlStr anyLow:params anSplit:nil assembleNorth:^(NSProgress * _Nonnull uploadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } burst:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success(responseObject);
        success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } proper:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[ConfigPrimalCozy sharedManager] addTask:task];
    [[ConfigPrimalCozy cameraSmooth] thick:task];
}

/**
 *不验证https 不验证时
 */
//: + (AFSecurityPolicy *)defaultSecurityPolicy{
+ (AFSecurityPolicy *)start{
    //: AFSecurityPolicy *securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModeNone];
    AFSecurityPolicy *securityPolicy = [AFSecurityPolicy handle:AFSSLPinningModeNone];
    //: securityPolicy.allowInvalidCertificates = YES;
    securityPolicy.applicationOdded = YES;
    //: securityPolicy.validatesDomainName = NO;
    securityPolicy.warmToneCompared = NO;
    //: return securityPolicy;
    return securityPolicy;
}

/**
 *https验证
 */
//: + (AFSecurityPolicy *)customSecurityPolicy {
+ (AFSecurityPolicy *)bubble {
    // /先导入证书
    //: NSString *cerPath = [[NSBundle mainBundle] pathForResource:@"xiaokaapi.com" ofType:@"cer"]; 
    NSString *cerPath = [[NSBundle mainBundle] pathForResource:StringFromTensionAbsoluteData(k_genuineReflectPlatform) ofType:StringFromTensionAbsoluteData(viewMendLinkDate)]; //证书的路径
    //: NSData *certData = [NSData dataWithContentsOfFile:cerPath];
    NSData *certData = [NSData dataWithContentsOfFile:cerPath];
    // AFSSLPinningModeCertificate 使用证书验证模式
    //: AFSecurityPolicy *securityPolicy = [AFSecurityPolicy policyWithPinningMode:AFSSLPinningModePublicKey];
    AFSecurityPolicy *securityPolicy = [AFSecurityPolicy handle:AFSSLPinningModePublicKey];

    // allowInvalidCertificates 是否允许无效证书（也就是自建的证书），默认为NO
    // 如果是需要验证自建证书，需要设置为YES
    //: securityPolicy.allowInvalidCertificates = NO;
    securityPolicy.applicationOdded = NO;

    //validatesDomainName 是否需要验证域名，默认为YES；
    //假如证书的域名与你请求的域名不一致，需把该项设置为NO；如设成NO的话，即服务器使用其他可信任机构颁发的证书，也可以建立连接，这个非常危险，建议打开。
    //置为NO，主要用于这种情况：客户端请求的是子域名，而证书上的是另外一个域名。因为SSL证书上的域名是独立的，假如证书上注册的域名是www.google.com，那么mail.google.com是无法验证通过的；当然，有钱可以注册通配符的域名*.google.com，但这个还是比较贵的。
    //如置为NO，建议自己添加对应域名的校验逻辑。
    //: securityPolicy.validatesDomainName = YES;
    securityPolicy.warmToneCompared = YES;
    //: securityPolicy.pinnedCertificates = [NSSet setWithArray:@[certData]];
    securityPolicy.senseSelectionned = [NSSet setWithArray:@[certData]];
    //: return securityPolicy;
    return securityPolicy;
}

//: - (void)cancelRequest{
- (void)changeOf{

    //: if ([self ifRequesting]) {
    if ([self event]) {
        //: NSMutableDictionary *taskDic = [[ConfigPrimalCozy sharedManager] taskQueue];
        NSMutableDictionary *taskDic = [[ConfigPrimalCozy cameraSmooth] player];
        //HMLog(@"----没有结束的队列====%lu", (unsigned long)taskDic.allKeys.count);

        //: [taskDic enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) {
        [taskDic enumerateKeysAndObjectsUsingBlock:^(id _Nonnull key, id _Nonnull obj, BOOL * _Nonnull stop) {
            //: if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted) {
            if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted) {
                //: [((NSURLSessionDataTask *)obj) cancel];
                [((NSURLSessionDataTask *)obj) cancel];
            }
        //: }];
        }];
    }
}

//: + (void)postWithUrl: (NSString *)urlStr
+ (void)barFail: (NSString *)urlStr
             //: params: (NSDictionary *)params
             besideLedge: (NSDictionary *)params
             //: isShow: (BOOL)isShow
             trend: (BOOL)isShow
          //: cacheTime: (int)cacheDuration
          sound: (int)cacheDuration
        //: mustResrush: (BOOL)mustResrush
        thatIgnore: (BOOL)mustResrush
            //: success: (ResponseSuccess)success
            soundTrend: (ResponseSuccess)success
             //: failed: (ResponseFailed)failed{
             video: (ResponseFailed)failed{
    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
//    manager.requestSerializer = [AFJSONRequestSerializer serializer];

    //添加请求头
    //: NSString *loginToken = [PreviewThemeAngularTriumph standardUserDefaults].loginToken;
    NSString *loginToken = [PreviewThemeAngularTriumph large].firmGlobe;
    //: NSString *lang = emptyString([PreviewThemeAngularTriumph standardUserDefaults].language);
    NSString *lang = engineClearCreate([PreviewThemeAngularTriumph large].modest);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.vesselPrepares model:lang house:StringFromTensionAbsoluteData(constDepthJourneyKey)];
    //: NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    //: [manager.requestSerializer setValue:systemLanguage forHTTPHeaderField:@"langs"];
    [manager.vesselPrepares model:systemLanguage house:StringFromTensionAbsoluteData(layoutDropMusePreference)];

     //: if ([PreviewThemeAngularTriumph standardUserDefaults].loginToken.length > 0) {
     if ([PreviewThemeAngularTriumph large].firmGlobe.length > 0) {

        //: [manager.requestSerializer setValue:loginToken forHTTPHeaderField:@"token"];
        [manager.vesselPrepares model:loginToken house:StringFromTensionAbsoluteData(dataFlameGroupDict)];
    }

    //: NSURLSessionDataTask *task = [manager POST:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull uploadProgress) {
    NSURLSessionDataTask *task = [manager sound:urlStr anyLow:params anSplit:nil assembleNorth:^(NSProgress * _Nonnull uploadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } burst:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
         //: success(responseObject);
         success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } proper:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[ConfigPrimalCozy sharedManager] addTask:task];
    [[ConfigPrimalCozy cameraSmooth] thick:task];
}

//: #pragma mark - 管理请求队列
#pragma mark - 管理请求队列


//: - (void)addTask:(NSURLSessionDataTask *)task{
- (void)thick:(NSURLSessionDataTask *)task{
    //: NSMutableDictionary *taskQueue = [self taskQueue];
    NSMutableDictionary *taskQueue = [self player];

    //: [taskQueue setObject:task forKey:@([NSDate date].timeIntervalSince1970)];
    [taskQueue setObject:task forKey:@([NSDate date].timeIntervalSince1970)];
}

//: - (void)removeTask:(NSURLSessionDataTask *)task{
- (void)evaluation:(NSURLSessionDataTask *)task{
    //: if ([self ifRequesting]) {
    if ([self event]) {
        //: NSMutableDictionary *taskQueue = [self taskQueue];
        NSMutableDictionary *taskQueue = [self player];

        //: [taskQueue removeObjectForKey:@([NSDate date].timeIntervalSince1970)];
        [taskQueue removeObjectForKey:@([NSDate date].timeIntervalSince1970)];
    }
}


//: + (void)uploadFileWithURL:(NSString *)URL
+ (void)pickAspect:(NSString *)URL
               //: parameters:(id)parameters
               chief:(id)parameters
                     //: name:(NSString *)name
                     kick:(NSString *)name
                 //: filePath:(NSURL *)filePath
                 neutral:(NSURL *)filePath
                 //: progress:(HttpProgress)progress
                 personal:(HttpProgress)progress
                  //: success:(ResponseSuccess)success
                  matchOf:(ResponseSuccess)success
                   //: failed:(ResponseFailed)failed{
                   ratioObvious:(ResponseFailed)failed{


    //: if (![URL containsString:@"http"]){
    if (![URL containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: URL = RestApi(URL);
        URL = monthListenIsolate(URL);
    }

    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;

    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager spine:URL flashOf:parameters list:nil object:^(id<AFMultipartFormData> _Nonnull formData) {
        //: NSError *error = nil;
        NSError *error = nil;
        //: [formData appendPartWithFileURL:filePath name:name error:&error];
        [formData extendedServer:filePath surf:name reflectTone:&error];
        //: (failed && error) ? failed(nil ,error) : nil;
        (failed && error) ? failed(nil ,error) : nil;
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } sun:^(NSProgress * _Nonnull uploadProgress) {
        //: dispatch_sync(dispatch_get_main_queue(), ^{
        dispatch_sync(dispatch_get_main_queue(), ^{//上传进度
            //: progress ? progress(uploadProgress) : nil;
            progress ? progress(uploadProgress) : nil;
        //: });
        });
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } abstract:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;

    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } task:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];
    //: [[ConfigPrimalCozy sharedManager] addTask:t];
    [[ConfigPrimalCozy cameraSmooth] thick:t];
}

//: + (instancetype)sharedManager{
+ (instancetype)cameraSmooth{
    //: static ConfigPrimalCozy *sharedManager = nil;
    static ConfigPrimalCozy *sharedManager = nil;
    //: static dispatch_once_t onceToken;
    static dispatch_once_t onceToken;
    //: _dispatch_once(&onceToken, ^{
    _dispatch_once(&onceToken, ^{
        //: sharedManager = [ConfigPrimalCozy new];
        sharedManager = [ConfigPrimalCozy new];
    //: });
    });
    //: return sharedManager;
    return sharedManager;
}

//: + (void)getWithUrl: (NSString *)urlStr
+ (void)rational: (NSString *)urlStr
            //: params: (NSDictionary *)params
            spine: (NSDictionary *)params
            //: isShow: (BOOL)isShow
            venture: (BOOL)isShow
         //: cacheTime: (int)cacheDuration
         characteristic: (int)cacheDuration
       //: mustResrush: (BOOL)mustResrush
       trim: (BOOL)mustResrush
           //: success: (ResponseSuccess)success
           measure: (ResponseSuccess)success
            //: failed: (ResponseFailed)failed{
            value: (ResponseFailed)failed{

    //: if (isShow) {
    if (isShow) {
            //: [ValidateCompositionInterpolationToward show];
            [ValidateCompositionInterpolationToward skill];
        }
    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //添加请求头
    //: NSString *loginToken = [PreviewThemeAngularTriumph standardUserDefaults].loginToken;
    NSString *loginToken = [PreviewThemeAngularTriumph large].firmGlobe;
    //: NSString *lang = emptyString([PreviewThemeAngularTriumph standardUserDefaults].language);
    NSString *lang = engineClearCreate([PreviewThemeAngularTriumph large].modest);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.vesselPrepares model:lang house:StringFromTensionAbsoluteData(constDepthJourneyKey)];
    //: NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    //: [manager.requestSerializer setValue:systemLanguage forHTTPHeaderField:@"langs"];
    [manager.vesselPrepares model:systemLanguage house:StringFromTensionAbsoluteData(layoutDropMusePreference)];

    //: if ([PreviewThemeAngularTriumph standardUserDefaults].loginToken.length > 0) {
    if ([PreviewThemeAngularTriumph large].firmGlobe.length > 0) {

        //: [manager.requestSerializer setValue:loginToken forHTTPHeaderField:@"token"];
        [manager.vesselPrepares model:loginToken house:StringFromTensionAbsoluteData(dataFlameGroupDict)];
    }
    //: NSURLSessionDataTask *task = [manager GET:urlStr parameters:params headers:nil progress:^(NSProgress * _Nonnull downloadProgress) {
    NSURLSessionDataTask *task = [manager terrain:urlStr aboveEndlessStrong:params ember:nil anDeal:^(NSProgress * _Nonnull downloadProgress) {

    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } preserve:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: if (![urlStr containsString:@"systemSetting"] && ![urlStr containsString:@"loginip"] && ![urlStr containsString:@"appSetting"] && ![urlStr containsString:@"ismustmobile"]) {
        if (![urlStr containsString:StringFromTensionAbsoluteData(layoutAbortComputeFormat)] && ![urlStr containsString:StringFromTensionAbsoluteData(themeDistinctiveTime)] && ![urlStr containsString:StringFromTensionAbsoluteData(screenGladQuantityeractValue)] && ![urlStr containsString:StringFromTensionAbsoluteData(componentTenderEvent)]) {
         }
        //: if (isShow) {
        if (isShow) {
            //: [ValidateCompositionInterpolationToward dismissWithDelay:0.25];
            [ValidateCompositionInterpolationToward friendly:0.25];
        }
        //: success(responseObject);
        success(responseObject);
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } alongsideLoop:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: if (isShow) {
        if (isShow) {
            //: [ValidateCompositionInterpolationToward dismissWithDelay:0.25];
            [ValidateCompositionInterpolationToward friendly:0.25];
        }
        //: failed(nil ,error);
        failed(nil ,error);
    //: }];
    }];
    //: [[ConfigPrimalCozy sharedManager] addTask:task];
    [[ConfigPrimalCozy cameraSmooth] thick:task];
}

//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)sweetThroughThin:(NSString *)URL
                 //: parameters:(id)parameters
                 method:(id)parameters
                     //: images:(NSArray<NSData *> *)images
                     liberalRear:(NSArray<NSData *> *)images
                 //: imageNames:(NSArray<NSString *> *)imageNames
                 press:(NSArray<NSString *> *)imageNames
                   //: progress:(HttpProgress)progress
                   asset:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    warm:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     elegant:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: URL = RestApi(URL);
        URL = monthListenIsolate(URL);
    }

    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager spine:URL flashOf:parameters list:nil object:^(id<AFMultipartFormData> _Nonnull formData) {
        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //NSData *imageData = UIImageJPEGRepresentation(images[i], 0.5);// 图片经过等比压缩后得到的二进制文件
            //: NSData *imageData = images[i];
            NSData *imageData = images[i];

            //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
            NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];

            //: NSString *imageTypeSuffix = @"jpg";
            NSString *imageTypeSuffix = StringFromTensionAbsoluteData(kPoolSignatureHelper);
            //: SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            //: switch (imageType) {
            switch (imageType) {
                //: case SDImageFormatJPEG:
                case SDImageFormatJPEG:
                    //: imageTypeSuffix = @"jpg";
                    imageTypeSuffix = StringFromTensionAbsoluteData(kPoolSignatureHelper);
                    //: break;
                    break;
                //: case SDImageFormatPNG:
                case SDImageFormatPNG:
                    //: imageTypeSuffix = @"png";
                    imageTypeSuffix = StringFromTensionAbsoluteData(networkCreateValue);
                    //: break;
                    break;
                //: case SDImageFormatGIF:
                case SDImageFormatGIF:
                    //: imageTypeSuffix = @"gif";
                    imageTypeSuffix = StringFromTensionAbsoluteData(commonLayerID);
                    //: break;
                    break;
                //: default:
                default:
                    //: break;
                    break;
            }
            //: NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageTypeSuffix];
            NSString *mimeType = [NSString stringWithFormat:StringFromTensionAbsoluteData(styleValueEventConfig),imageTypeSuffix];
//            NSString *mimeType = @"video/mp4";

            //: NSString *name = [imageNames objectAtIndex:i] ? :@"image";
            NSString *name = [imageNames objectAtIndex:i] ? :StringFromTensionAbsoluteData(k_fillValue);
            //: [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:mimeType];
            [formData decorate:imageData sand:name bottomFocus:fileName royal:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } sun:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } abstract:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } task:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[ConfigPrimalCozy sharedManager] addTask:t];
    [[ConfigPrimalCozy cameraSmooth] thick:t];
}


//: - (id)init{
- (id)init{
    //: if (self = [super init]) {
    if (self = [super init]) {
        //: AFSecurityPolicy *securityPolicy = [ConfigPrimalCozy defaultSecurityPolicy];
        AFSecurityPolicy *securityPolicy = [ConfigPrimalCozy start];
        //: _manager = [AFHTTPSessionManager manager];
        _crop = [AFHTTPSessionManager worthIn];
        //: _manager.securityPolicy = securityPolicy;
        _crop.progressRouted = securityPolicy;
        //: _manager.responseSerializer.acceptableContentTypes = [NSSet setWithObjects:@"application/json", @"text/json", @"text/javascript",@"text/plain",@"text/html", nil];
        _crop.buildGraphicses.identifyFirsting = [NSSet setWithObjects:StringFromTensionAbsoluteData(widgetResponseTimeNumber), StringFromTensionAbsoluteData(networkLeapDepthTimer), StringFromTensionAbsoluteData(componentBeginMindVersion),StringFromTensionAbsoluteData(kCoolNumber),StringFromTensionAbsoluteData(colorBroadDate), nil];
        //_dbQueue = [[HMDBManager shareManager] dbQueue];

    }
    //: return self;
    return self;
}




//: + (void)uploadVideoWithURL:(NSString *)URL
+ (void)quietBy:(NSString *)URL
                 //: parameters:(id)parameters
                 common:(id)parameters
                     //: images:(NSData *)videoData
                     applicationAccount:(NSData *)videoData
                 //: coverImage:(NSData *)coverData
                 variable:(NSData *)coverData
                   //: progress:(HttpProgress)progress
                   video:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    running:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     computer:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: URL = RestApi(URL);
        URL = monthListenIsolate(URL);
    }

    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager spine:URL flashOf:parameters list:nil object:^(id<AFMultipartFormData> _Nonnull formData) {

        //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
        NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
        //: NSString *fileName = [NSString stringWithFormat:@"%@.mp4",timeSp];
        NSString *fileName = [NSString stringWithFormat:StringFromTensionAbsoluteData(userCircuitAlert),timeSp];
        //: NSString *mimeType = @"video/mp4";
        NSString *mimeType = StringFromTensionAbsoluteData(layoutMechanismWallPreference);
        //: [formData appendPartWithFileData:videoData name:@"video" fileName:fileName mimeType:mimeType];
        [formData decorate:videoData sand:StringFromTensionAbsoluteData(themeSubtleKey) bottomFocus:fileName royal:mimeType];
        //: [formData appendPartWithFileData:coverData name:@"picture" fileName:[NSString stringWithFormat:@"%@.jpg",timeSp] mimeType:@"image/jpg"];
        [formData decorate:coverData sand:StringFromTensionAbsoluteData(colorStackVersion) bottomFocus:[NSString stringWithFormat:StringFromTensionAbsoluteData(k_consistentURL),timeSp] royal:StringFromTensionAbsoluteData(constWarmSpringConfig)];
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } sun:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } abstract:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } task:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[ConfigPrimalCozy sharedManager] addTask:t];
    [[ConfigPrimalCozy cameraSmooth] thick:t];
}




//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)cable:(NSString *)URL
                 //: parameters:(id)parameters
                 read:(id)parameters
                       //: name:(NSString *)name
                       personal:(NSString *)name
                     //: images:(NSArray<UIImage *> *)images
                     graphPortrait:(NSArray<UIImage *> *)images
                  //: fileNames:(NSArray<NSString *> *)fileNames
                  delay:(NSArray<NSString *> *)fileNames
                 //: imageScale:(CGFloat)imageScale
                 mount:(CGFloat)imageScale
                  //: imageType:(NSString *)imageType
                  titleEven:(NSString *)imageType
                   //: progress:(HttpProgress)progress
                   stand:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    parent:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     recording:(ResponseFailed)failed{

    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager spine:URL flashOf:parameters list:nil object:^(id<AFMultipartFormData> _Nonnull formData) {

        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //: NSData *imageData = UIImageJPEGRepresentation(images[i], imageScale ?: 1.f);
            NSData *imageData = UIImageJPEGRepresentation(images[i], imageScale ?: 1.f);// 图片经过等比压缩后得到的二进制文件
            //: NSDateFormatter *formatter = [[NSDateFormatter alloc] init];
            NSDateFormatter *formatter = [[NSDateFormatter alloc] init];// 默认图片的文件名, 若fileNames为nil就使用
            //: formatter.dateFormat = @"yyyyMMddHHmmss";
            formatter.dateFormat = StringFromTensionAbsoluteData(commonSubtleToken);
            //: NSString *str = [formatter stringFromDate:[NSDate date]];
            NSString *str = [formatter stringFromDate:[NSDate date]];
            //: NSString *imageFileName = [NSString stringWithFormat:@"%@%ld.%@",str,i,imageType?:@"jpg"];
            NSString *imageFileName = [NSString stringWithFormat:@"%@%ld.%@",str,i,imageType?:StringFromTensionAbsoluteData(kPoolSignatureHelper)];

            //: NSString *fileName = fileNames ? [NSString stringWithFormat:@"%@.%@",fileNames[i],imageType?:@"jpg"] : imageFileName;
            NSString *fileName = fileNames ? [NSString stringWithFormat:@"%@.%@",fileNames[i],imageType?:StringFromTensionAbsoluteData(kPoolSignatureHelper)] : imageFileName;
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageType ?: @"jpg"];
            NSString *mimeType = [NSString stringWithFormat:StringFromTensionAbsoluteData(styleValueEventConfig),imageType ?: StringFromTensionAbsoluteData(kPoolSignatureHelper)];
            //: [formData appendPartWithFileData:imageData name:name fileName:fileName mimeType:mimeType];
            [formData decorate:imageData sand:name bottomFocus:fileName royal:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } sun:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } abstract:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } task:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[ConfigPrimalCozy sharedManager] addTask:t];
    [[ConfigPrimalCozy cameraSmooth] thick:t];
}

//: + (void)downloadWithURL:(NSString *)URL
+ (void)minimalFramework:(NSString *)URL
                //: fileDir:(NSString *)fileDir
                beforeBe:(NSString *)fileDir
               //: progress:(HttpProgress)progress
               comparison:(HttpProgress)progress
                //: success:(void(^)(NSString *filePath))success
                fleet:(void(^)(NSString *filePath))success
                 //: failed:(ResponseFailed)failed{
                 nearVine:(ResponseFailed)failed{


    //: if (![URL containsString:@"http"]){
    if (![URL containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: URL = RestApi(URL);
        URL = monthListenIsolate(URL);
    }

    //: NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];
    NSURLRequest *request = [NSURLRequest requestWithURL:[NSURL URLWithString:URL]];
    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //: NSURLSessionDownloadTask *downloadTask = [manager downloadTaskWithRequest:request progress:^(NSProgress * _Nonnull downloadProgress) {
    NSURLSessionDownloadTask *downloadTask = [manager echo:request moreToDramatic:^(NSProgress * _Nonnull downloadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(downloadProgress);
            progress(downloadProgress);
        }
    //: } destination:^NSURL * _Nonnull(NSURL * _Nonnull targetPath, NSURLResponse * _Nonnull response) {
    } quiet:^NSURL * _Nonnull(NSURL * _Nonnull targetPath, NSURLResponse * _Nonnull response) {
        //拼接缓存目录
        //: NSString *downloadDir = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:fileDir ? fileDir : @"Download"];
        NSString *downloadDir = [[NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) lastObject] stringByAppendingPathComponent:fileDir ? fileDir : StringFromTensionAbsoluteData(moduleStayValue)];
        //打开文件管理器
        //: NSFileManager *fileManager = [NSFileManager defaultManager];
        NSFileManager *fileManager = [NSFileManager defaultManager];
        //创建Download目录
        //: [fileManager createDirectoryAtPath:downloadDir withIntermediateDirectories:YES attributes:nil error:nil];
        [fileManager createDirectoryAtPath:downloadDir withIntermediateDirectories:YES attributes:nil error:nil];
        //拼接文件路径
        //: NSString *filePath = [downloadDir stringByAppendingPathComponent:response.suggestedFilename];
        NSString *filePath = [downloadDir stringByAppendingPathComponent:response.suggestedFilename];
        //返回文件位置的URL路径
        //: return [NSURL fileURLWithPath:filePath];
        return [NSURL fileURLWithPath:filePath];
    //: } completionHandler:^(NSURLResponse * _Nonnull response, NSURL * _Nullable filePath, NSError * _Nullable error) {
    } textTransmit:^(NSURLResponse * _Nonnull response, NSURL * _Nullable filePath, NSError * _Nullable error) {
        //: if(failed && error) {failed(nil ,error) ; return ;};
        if(failed && error) {failed(nil ,error) ; return ;};
        //: success ? success(filePath.absoluteString /|** NSURL->NSString*|/) : nil;
        success ? success(filePath.absoluteString /** NSURL->NSString*/) : nil;
    //: }];
    }];
    //: [downloadTask resume];
    [downloadTask resume];
}

//取消网络请求
//: + (void)cancelRequestWithURLString:(NSString *)URLString{
+ (void)flag:(NSString *)URLString{

//    if ([[HMDataRequest shareDataRequest] ifRequesting]) {
//        NSMutableDictionary *taskDic = [[HMDataRequest shareDataRequest] taskQueue];
//        //HMLog(@"----没有结束的队列====%lu", (unsigned long)taskDic.allKeys.count);
//
//        [taskDic enumerateKeysAndObjectsUsingBlock:^(id  _Nonnull key, id  _Nonnull obj, BOOL * _Nonnull stop) {
//
//            if (((NSURLSessionDataTask *)obj).state != NSURLSessionTaskStateCompleted
//                && [[((NSURLSessionDataTask *)obj).currentRequest.URL absoluteString] rangeOfString:URLString].location != NSNotFound) {
//
//                HMLog(@"----end----%@", [((NSURLSessionDataTask *)obj).currentRequest.URL absoluteString]);
//
//                [((NSURLSessionDataTask *)obj) cancel];
//
//            }
//        }];
//    }


}

//: + (void)uploadImagesWithURL:(NSString *)URL
+ (void)apply:(NSString *)URL
                 //: parameters:(id)parameters
                 absoluteBrilliant:(id)parameters
                     //: images:(NSArray<NSData *> *)images
                     sea:(NSArray<NSData *> *)images
                   //: progress:(HttpProgress)progress
                   provision:(HttpProgress)progress
                    //: success:(ResponseSuccess)success
                    bridge:(ResponseSuccess)success
                     //: failed:(ResponseFailed)failed{
                     ownerBy:(ResponseFailed)failed{

    //: if (![URL containsString:@"http"]){
    if (![URL containsString:StringFromTensionAbsoluteData(kIdealPath)]){
        //: URL = RestApi(URL);
        URL = monthListenIsolate(URL);
    }

    //: AFHTTPSessionManager *manager = [ConfigPrimalCozy sharedManager].manager;
    AFHTTPSessionManager *manager = [ConfigPrimalCozy cameraSmooth].crop;
    //: NSString *lang = emptyString([PreviewThemeAngularTriumph standardUserDefaults].language);
    NSString *lang = engineClearCreate([PreviewThemeAngularTriumph large].modest);
    //: [manager.requestSerializer setValue:lang forHTTPHeaderField:@"lang"];
    [manager.vesselPrepares model:lang house:StringFromTensionAbsoluteData(constDepthJourneyKey)];
    //: NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    NSString *systemLanguage = [[NSLocale preferredLanguages] firstObject];
    //: [manager.requestSerializer setValue:systemLanguage forHTTPHeaderField:@"langs"];
    [manager.vesselPrepares model:systemLanguage house:StringFromTensionAbsoluteData(layoutDropMusePreference)];

    //: NSURLSessionDataTask *t = [manager POST:URL parameters:parameters headers:nil constructingBodyWithBlock:^(id<AFMultipartFormData> _Nonnull formData) {
    NSURLSessionDataTask *t = [manager spine:URL flashOf:parameters list:nil object:^(id<AFMultipartFormData> _Nonnull formData) {
        //: for (NSUInteger i = 0; i < images.count; i++) {
        for (NSUInteger i = 0; i < images.count; i++) {
            //NSData *imageData = UIImageJPEGRepresentation(images[i], 0.5);// 图片经过等比压缩后得到的二进制文件
            //: NSData *imageData = images[i];
            NSData *imageData = images[i];

            //: NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];
            NSString *timeSp = [NSString stringWithFormat:@"%ld", (long)[[NSDate date] timeIntervalSince1970]];

            //: NSString *imageTypeSuffix = @"jpg";
            NSString *imageTypeSuffix = StringFromTensionAbsoluteData(kPoolSignatureHelper);
            //: SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            SDImageFormat imageType = [NSData sd_imageFormatForImageData:imageData];
            //: switch (imageType) {
            switch (imageType) {
                //: case SDImageFormatJPEG:
                case SDImageFormatJPEG:
                    //: imageTypeSuffix = @"jpg";
                    imageTypeSuffix = StringFromTensionAbsoluteData(kPoolSignatureHelper);
                    //: break;
                    break;
                //: case SDImageFormatPNG:
                case SDImageFormatPNG:
                    //: imageTypeSuffix = @"png";
                    imageTypeSuffix = StringFromTensionAbsoluteData(networkCreateValue);
                    //: break;
                    break;
                //: case SDImageFormatGIF:
                case SDImageFormatGIF:
                    //: imageTypeSuffix = @"gif";
                    imageTypeSuffix = StringFromTensionAbsoluteData(commonLayerID);
                    //: break;
                    break;
                //: default:
                default:
                    //: break;
                    break;
            }
            //: NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            NSString *fileName = [NSString stringWithFormat:@"%@%ld.%@",timeSp,i,imageTypeSuffix];
            //: NSString *mimeType = [NSString stringWithFormat:@"image/%@",imageTypeSuffix];
            NSString *mimeType = [NSString stringWithFormat:StringFromTensionAbsoluteData(styleValueEventConfig),imageTypeSuffix];
//            NSString *mimeType = @"video/mp4";
            //: [formData appendPartWithFileData:imageData name:@"image" fileName:fileName mimeType:mimeType];
            [formData decorate:imageData sand:StringFromTensionAbsoluteData(k_fillValue) bottomFocus:fileName royal:mimeType];
        }
    //: } progress:^(NSProgress * _Nonnull uploadProgress) {
    } sun:^(NSProgress * _Nonnull uploadProgress) {
        //: if (progress) {
        if (progress) {
            //: progress(uploadProgress);
            progress(uploadProgress);
        }
    //: } success:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {
    } abstract:^(NSURLSessionDataTask * _Nonnull task, id _Nullable responseObject) {

        //: success ? success(responseObject) : nil;
        success ? success(responseObject) : nil;
    //: } failure:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
    } task:^(NSURLSessionDataTask * _Nullable task, NSError * _Nonnull error) {
        //: failed ? failed(nil ,error) : nil;
        failed ? failed(nil ,error) : nil;
    //: }];
    }];

    //: [[ConfigPrimalCozy sharedManager] addTask:t];
    [[ConfigPrimalCozy cameraSmooth] thick:t];
}

//: - (BOOL)ifRequesting{
- (BOOL)event{
//    NSMutableDictionary *taskDic = objc_getAssociatedObject(self, @selector(addTask:));
//
//    if (taskDic && taskDic.allKeys.count>0) {
//        return YES;
//    }
    //: return NO;
    return NO;
}

//sha1加密方式
//: + (NSString *)sha1:(NSString *)input
+ (NSString *)candid:(NSString *)input
{
    //const char *cstr = [input cStringUsingEncoding:NSUTF8StringEncoding];
    //NSData *data = [NSData dataWithBytes:cstr length:input.length];

     //: NSData *data = [input dataUsingEncoding:NSUTF8StringEncoding];
     NSData *data = [input dataUsingEncoding:NSUTF8StringEncoding];
    //: uint8_t digest[20];
    uint8_t digest[20];

    //: CC_SHA1(data.bytes, (unsigned int)data.length, digest);
    CC_SHA1(data.bytes, (unsigned int)data.length, digest);
    //: NSMutableString *output = [NSMutableString stringWithCapacity:20 * 2];
    NSMutableString *output = [NSMutableString stringWithCapacity:20 * 2];
    //: for(int i=0; i<20; i++) {
    for(int i=0; i<20; i++) {
        //: [output appendFormat:@"%02x", digest[i]];
        [output appendFormat:@"%02x", digest[i]];
    }

    //: return output;
    return output;
}

//: @end
@end

Byte * TensionAbsoluteDataToCache(Byte *data) {
    int wingYear = data[0];
    int saveer = data[1];
    Byte mightCool = data[2];
    int layerAll = data[3];
    if (!wingYear) return data + layerAll;
    for (int i = layerAll; i < layerAll + saveer; i++) {
        int value = data[i] + mightCool;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[layerAll + saveer] = 0;
    return data + layerAll;
}

NSString *StringFromTensionAbsoluteData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)TensionAbsoluteDataToCache(data)];
}
