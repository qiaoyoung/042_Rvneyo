
#import <Foundation/Foundation.h>

NSString *StringFromWood_Data(Byte *data);        


//: image
Byte colorOmitString[] = {15, 5, 61, 11, 4, 140, 74, 34, 25, 217, 192, 44, 48, 36, 42, 40, 142};

//: badgeValue
Byte cacheObviousListTimer[] = {12, 10, 14, 7, 181, 144, 17, 84, 83, 86, 89, 87, 72, 83, 94, 103, 87, 119};

//: icon_discovery_pressed
Byte colorLinkEvent[] = {20, 22, 12, 13, 191, 85, 253, 123, 242, 144, 183, 91, 140, 93, 87, 99, 98, 83, 88, 93, 103, 87, 99, 106, 89, 102, 109, 83, 100, 102, 89, 103, 103, 89, 88, 233};

//: #A3A3A3
Byte widgetThroughoutHelper[] = {69, 7, 43, 13, 229, 79, 74, 209, 61, 240, 192, 226, 45, 248, 22, 8, 22, 8, 22, 8, 72};

//: discovery
Byte screenWatchJourneyKey[] = {19, 9, 32, 10, 239, 237, 189, 121, 14, 183, 68, 73, 83, 67, 79, 86, 69, 82, 89, 131};

//: icon_message_normal
Byte viewRouteConfig[] = {59, 19, 7, 8, 13, 162, 79, 228, 98, 92, 104, 103, 88, 102, 94, 108, 108, 90, 96, 94, 88, 103, 104, 107, 102, 90, 101, 111};

//: title
Byte kUntilLoadToken[] = {4, 5, 36, 7, 198, 153, 90, 80, 69, 80, 72, 65, 206};

//: #612CF9
Byte viewDetectName[] = {52, 7, 93, 4, 198, 217, 212, 213, 230, 233, 220, 20};

//: icon_setting_normal
Byte widgetInspectResource[] = {94, 19, 25, 11, 219, 141, 161, 96, 152, 2, 142, 80, 74, 86, 85, 70, 90, 76, 91, 91, 80, 85, 78, 70, 85, 86, 89, 84, 72, 83, 45};

//: NotificationLanguageChanged
Byte colorVoiceTime[] = {65, 27, 72, 11, 104, 6, 56, 38, 118, 42, 250, 6, 39, 44, 33, 30, 33, 27, 25, 44, 33, 39, 38, 4, 25, 38, 31, 45, 25, 31, 29, 251, 32, 25, 38, 31, 29, 28, 241};

//: selectedImage
Byte networkTreatWaveHelper[] = {76, 13, 91, 9, 156, 239, 159, 207, 44, 24, 10, 17, 10, 8, 25, 10, 9, 238, 18, 6, 12, 10, 34};

//: main_tab_my
Byte constDataPath[] = {4, 11, 33, 5, 120, 76, 64, 72, 77, 62, 83, 64, 65, 62, 76, 88, 253};

//: icon_discovery_normal
Byte componentStorageLaunchPath[] = {26, 21, 4, 7, 39, 125, 227, 101, 95, 107, 106, 91, 96, 101, 111, 95, 107, 114, 97, 110, 117, 91, 106, 107, 110, 105, 93, 104, 58};

//: contacts_list_title
Byte layoutTailEvent[] = {5, 19, 29, 4, 70, 82, 81, 87, 68, 70, 87, 86, 66, 79, 76, 86, 87, 66, 87, 76, 87, 79, 72, 76};

//: icon_message_pressed
Byte k_pieceEvent[] = {84, 20, 35, 4, 70, 64, 76, 75, 60, 74, 66, 80, 80, 62, 68, 66, 60, 77, 79, 66, 80, 80, 66, 65, 165};

//: USERCustomNotificationCountChanged
Byte appCreateStairPath[] = {38, 34, 56, 9, 138, 60, 51, 115, 18, 29, 27, 13, 26, 11, 61, 59, 60, 55, 53, 22, 55, 60, 49, 46, 49, 43, 41, 60, 49, 55, 54, 11, 55, 61, 54, 60, 11, 48, 41, 54, 47, 45, 44, 180};

//: icon_contact_normal
Byte constSteamEvent[] = {22, 19, 55, 14, 88, 223, 102, 81, 152, 197, 134, 88, 73, 190, 50, 44, 56, 55, 40, 44, 56, 55, 61, 42, 44, 61, 40, 55, 56, 59, 54, 42, 53, 193};

//: icon_contact_pressed
Byte moduleNeutralDominantKey[] = {65, 20, 70, 14, 192, 120, 209, 59, 191, 152, 42, 14, 54, 92, 35, 29, 41, 40, 25, 29, 41, 40, 46, 27, 29, 46, 25, 42, 44, 31, 45, 45, 31, 30, 214};

//: activity_user_profile_chat
Byte screenMemoryDict[] = {36, 26, 70, 5, 189, 27, 29, 46, 35, 48, 35, 46, 51, 25, 47, 45, 31, 44, 25, 42, 44, 41, 32, 35, 38, 31, 25, 29, 34, 27, 46, 255};

//: #875FFA
Byte k_transitDate[] = {91, 7, 99, 8, 70, 143, 22, 133, 192, 213, 212, 210, 227, 227, 222, 198};

//: #A148FF
Byte networkTeamPinAlert[] = {53, 7, 88, 9, 38, 129, 58, 234, 122, 203, 233, 217, 220, 224, 238, 238, 179};

//: icon_setting_pressed
Byte screenWorthValue[] = {17, 20, 70, 9, 112, 75, 238, 14, 55, 35, 29, 41, 40, 25, 45, 31, 46, 46, 35, 40, 33, 25, 42, 44, 31, 45, 45, 31, 30, 102};

//: #FF5E00
Byte k_actionEnabletoURL[] = {23, 7, 88, 6, 208, 138, 203, 238, 238, 221, 237, 216, 216, 82};

// __DEBUG__
// __CLOSE_PRINT__
//
//  MainTabController.m
//  NIMDemo
//
//  Created by chris on 15/2/2.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "DensityCompareController.h"
#import "DensityCompareController.h"
//: #import "RealBrilliantPassiveVoyage.h"
#import "RealBrilliantPassiveVoyage.h"
//: #import "UIImage+RevokeDriftTweak.h"
#import "UIImage+RevokeDriftTweak.h"
//: #import "EnginePeakChord.h"
#import "EnginePeakChord.h"
//: #import "TaskCombinerCreate.h"
#import "TaskCombinerCreate.h"
//: #import "ContractionUrbanBasinCount.h"
#import "ContractionUrbanBasinCount.h"
//: #import "LightToastAuthentic.h"
#import "LightToastAuthentic.h"
//: #import "CertificateConnectBadgeMediatorStoryboard.h"
#import "CertificateConnectBadgeMediatorStoryboard.h"
//: #import "CleverOffDensePlacid.h"
#import "CleverOffDensePlacid.h"
//: #import "FluentInvalidatePaginate.h"
#import "FluentInvalidatePaginate.h"
//: #import "InstanceEmitterComposer.h"
#import "InstanceEmitterComposer.h"
//: #import "Reachability.h"
#import "Reachability.h"
//: #import "ChannelMeasureAboveFeather.h"
#import "ChannelMeasureAboveFeather.h"
//: #import "FeatherInteractionGrand.h"
#import "FeatherInteractionGrand.h"

//: typedef NS_ENUM(NSInteger,DensityCompareType) {
typedef NS_ENUM(NSInteger,DensityCompareType) {
    //: DensityCompareTypeMessageList, 
    DensityCompareTypeMessageList, //聊天
    //: DensityCompareTypeChatroomList, 
    DensityCompareTypeChatroomList, //聊天室
    //: DensityCompareTypeContact, 
    DensityCompareTypeContact, //通讯录
    //: DensityCompareTypeSetting, 
    DensityCompareTypeSetting, //设置
//: };
};



//: @interface DensityCompareController ()<NIMSystemNotificationManagerDelegate,NIMConversationManagerDelegate,NIMChatManagerDelegate,NIMLoginManagerDelegate,UITabBarControllerDelegate>
@interface DensityCompareController ()<NIMSystemNotificationManagerDelegate,NIMConversationManagerDelegate,NIMChatManagerDelegate,NIMLoginManagerDelegate,UITabBarControllerDelegate>

//: @property (nonatomic,assign) NSInteger systemUnreadCount;
@property (nonatomic,assign) NSInteger save;

//: @property (nonatomic,copy) NSDictionary *configs;
@property (nonatomic,copy) NSDictionary *oceanFill;

//: @property (nonatomic,assign) NSInteger sessionUnreadCount;
@property (nonatomic,assign) NSInteger guideGenBalance;

//: @property (nonatomic,strong) LightToastAuthentic *animator;
@property (nonatomic,strong) LightToastAuthentic *take;

//: @property (nonatomic,strong) NSArray *navigationHandlers;
@property (nonatomic,strong) NSArray *flow;

//: @property (nonatomic,assign) NSInteger customSystemUnreadCount;
@property (nonatomic,assign) NSInteger mode;

//: @end
@end

//: @implementation DensityCompareController
@implementation DensityCompareController

//: - (void)dealloc{
- (void)dealloc{
    //: [[NIMSDK sharedSDK].systemNotificationManager removeDelegate:self];
    [[NIMSDK sharedSDK].systemNotificationManager removeDelegate:self];
    //: [[NIMSDK sharedSDK].conversationManager removeDelegate:self];
    [[NIMSDK sharedSDK].conversationManager removeDelegate:self];
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}


//: - (void)allMessagesRead
- (void)allMessagesRead
{
    //: self.sessionUnreadCount = 0;
    self.guideGenBalance = 0;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: #pragma mark - Rotate
#pragma mark - Rotate

//: - (BOOL)shouldAutorotate{
- (BOOL)shouldAutorotate{
    //: BOOL enableRotate = [CertificateConnectBadgeMediatorStoryboard sharedConfig].enableRotate;
    BOOL enableRotate = [CertificateConnectBadgeMediatorStoryboard grain].chapterOpenCable;
    //: return enableRotate ? [self.selectedViewController shouldAutorotate] : NO;
    return enableRotate ? [self.selectedViewController shouldAutorotate] : NO;
}

//: - (void)didUpdateUnreadCountDic:(NSDictionary *)unreadCountDic
- (void)didUpdateUnreadCountDic:(NSDictionary *)unreadCountDic
{

    //: NSInteger unreadCount = [[NIMSDK sharedSDK].conversationManager allUnreadCount:YES];
    NSInteger unreadCount = [[NIMSDK sharedSDK].conversationManager allUnreadCount:YES];
    //: self.sessionUnreadCount = unreadCount;
    self.guideGenBalance = unreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: - (void)didUpdateRecentSession:(NIMRecentSession *)recentSession
- (void)didUpdateRecentSession:(NIMRecentSession *)recentSession
              //: totalUnreadCount:(NSInteger)totalUnreadCount{
              totalUnreadCount:(NSInteger)totalUnreadCount{
    //: self.sessionUnreadCount = totalUnreadCount;
    self.guideGenBalance = totalUnreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}
//: #pragma mark - Notification
#pragma mark - Notification
//: - (void)onCustomNotifyChanged:(NSNotification *)notification
- (void)fractionHistory:(NSNotification *)notification
{
    //: EnginePeakChord *db = [EnginePeakChord sharedInstance];
    EnginePeakChord *db = [EnginePeakChord organic];
    //: self.customSystemUnreadCount = db.unreadCount;
    self.mode = db.infrastructureMarkerCondition;
    //: [self refreshSettingBadge];
    [self assetStop];
}

//: - (NSArray *)tabbars{
- (NSArray *)everyNeed{
    //: self.sessionUnreadCount = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    self.guideGenBalance = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    //: NSMutableArray *items = [[NSMutableArray alloc] init];
    NSMutableArray *items = [[NSMutableArray alloc] init];

    //: [items addObject:@(0)];
    [items addObject:@(0)];
    //: [items addObject:@(1)];
    [items addObject:@(1)];
    //: [items addObject:@(2)];
    [items addObject:@(2)];
    //: [items addObject:@(3)];
    [items addObject:@(3)];
    //: return items;
    return items;
}

//: #pragma mark - VC
#pragma mark - VC
//: - (NSDictionary *)vcInfoForTabType:(DensityCompareType)type{
- (NSDictionary *)ping:(DensityCompareType)type{

    //: if (_configs == nil)
    if (_oceanFill == nil)
    {
        //: _configs = @{
        _oceanFill = @{
                     //: @(DensityCompareTypeMessageList) : @{
                     @(DensityCompareTypeMessageList) : @{
                             //: @"vc" : @"RealBrilliantPassiveVoyage",
                             @"vc" : @"RealBrilliantPassiveVoyage",
                             //: @"title" : [CommandAlongsideLocation getTextWithKey:@"activity_user_profile_chat"],
                             StringFromWood_Data(kUntilLoadToken) : [CommandAlongsideLocation notebook:StringFromWood_Data(screenMemoryDict)],
                             //: @"image" : @"icon_message_normal",
                             StringFromWood_Data(colorOmitString) : StringFromWood_Data(viewRouteConfig),
                             //: @"selectedImage": @"icon_message_pressed",
                             StringFromWood_Data(networkTreatWaveHelper): StringFromWood_Data(k_pieceEvent),
                             //: @"badgeValue": @(self.sessionUnreadCount)
                             StringFromWood_Data(cacheObviousListTimer): @(self.guideGenBalance)
                             //: },
                             },
                     //: @(DensityCompareTypeChatroomList): @{
                     @(DensityCompareTypeChatroomList): @{
                             //: @"vc" : @"InstanceEmitterComposer",
                             @"vc" : @"InstanceEmitterComposer",
                             //: @"title" : [CommandAlongsideLocation getTextWithKey:@"discovery"],
                             StringFromWood_Data(kUntilLoadToken) : [CommandAlongsideLocation notebook:StringFromWood_Data(screenWatchJourneyKey)],
                             //: @"image" : @"icon_discovery_normal",
                             StringFromWood_Data(colorOmitString) : StringFromWood_Data(componentStorageLaunchPath),
                             //: @"selectedImage": @"icon_discovery_pressed",
                             StringFromWood_Data(networkTreatWaveHelper): StringFromWood_Data(colorLinkEvent),
                             //: },
                             },
                     //: @(DensityCompareTypeContact) : @{
                     @(DensityCompareTypeContact) : @{
                             //: @"vc" : @"CleverOffDensePlacid",
                             @"vc" : @"CleverOffDensePlacid",
                             //: @"title" : [CommandAlongsideLocation getTextWithKey:@"contacts_list_title"],
                             StringFromWood_Data(kUntilLoadToken) : [CommandAlongsideLocation notebook:StringFromWood_Data(layoutTailEvent)],
                             //: @"image" : @"icon_contact_normal",
                             StringFromWood_Data(colorOmitString) : StringFromWood_Data(constSteamEvent),
                             //: @"selectedImage": @"icon_contact_pressed",
                             StringFromWood_Data(networkTreatWaveHelper): StringFromWood_Data(moduleNeutralDominantKey),
                             //: },
                             },
                     //: @(DensityCompareTypeSetting) : @{
                     @(DensityCompareTypeSetting) : @{
                             //: @"vc" : @"FluentInvalidatePaginate",
                             @"vc" : @"FluentInvalidatePaginate",
                             //: @"title" : [CommandAlongsideLocation getTextWithKey:@"main_tab_my"],
                             StringFromWood_Data(kUntilLoadToken) : [CommandAlongsideLocation notebook:StringFromWood_Data(constDataPath)],
                             //: @"image" : @"icon_setting_normal",
                             StringFromWood_Data(colorOmitString) : StringFromWood_Data(widgetInspectResource),
                             //: @"selectedImage": @"icon_setting_pressed",
                             StringFromWood_Data(networkTreatWaveHelper): StringFromWood_Data(screenWorthValue),
                             }
                     //: };
                     };

    }
    //: return _configs[@(type)];
    return _oceanFill[@(type)];

}

//: - (void)refreshContactBadge{
- (void)moment{
//    UINavigationController *nav = self.viewControllers[DensityCompareTypeContact];
//    NSInteger badge = self.systemUnreadCount;
//    nav.tabBarItem.badgeValue = badge ? @(badge).stringValue : nil;
}

//: #pragma mark - Notification
#pragma mark - Notification
//: - (void)languageChanged:(NSNotification *)noti {
- (void)delaysing:(NSNotification *)noti {
    //: [self setUpSubNav];
    [self detailed];


}

//: - (void)viewDidLayoutSubviews {
- (void)viewDidLayoutSubviews {
    //: [super viewDidLayoutSubviews];
    [super viewDidLayoutSubviews];
    //防止UITabbar上跳，这里重置一下
    //: self.tabBar.frame = CGRectMake(0, [UIScreen mainScreen].bounds.size.height - (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(window)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49), [UIScreen mainScreen].bounds.size.width, (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(window)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49));
    self.tabBar.frame = CGRectMake(0, [UIScreen mainScreen].bounds.size.height - (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(forestSpecialled)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49), [UIScreen mainScreen].bounds.size.width, (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(forestSpecialled)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49));
//    self.tabBar.frame = CGRectMake(20, UIScreenHeight - UITabbarHeight, UIScreenWidth-40, 49);
}


//: - (UIStatusBarStyle)preferredStatusBarStyle {
- (UIStatusBarStyle)preferredStatusBarStyle {
    //: return UIStatusBarStyleDefault;
    return UIStatusBarStyleDefault;
}

//: #pragma mark - NIMConversationManagerDelegate
#pragma mark - NIMConversationManagerDelegate
//: - (void)didAddRecentSession:(NIMRecentSession *)recentSession
- (void)didAddRecentSession:(NIMRecentSession *)recentSession
           //: totalUnreadCount:(NSInteger)totalUnreadCount{
           totalUnreadCount:(NSInteger)totalUnreadCount{
    //: self.sessionUnreadCount = totalUnreadCount;
    self.guideGenBalance = totalUnreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: - (UIInterfaceOrientationMask)supportedInterfaceOrientations{
- (UIInterfaceOrientationMask)supportedInterfaceOrientations{
    //: BOOL enableRotate = [CertificateConnectBadgeMediatorStoryboard sharedConfig].enableRotate;
    BOOL enableRotate = [CertificateConnectBadgeMediatorStoryboard grain].chapterOpenCable;
    //: return enableRotate ? [self.selectedViewController supportedInterfaceOrientations] : UIInterfaceOrientationMaskPortrait;
    return enableRotate ? [self.selectedViewController supportedInterfaceOrientations] : UIInterfaceOrientationMaskPortrait;
}


//: - (void)networkChanged:(NSNotification *)note {
- (void)createering:(NSNotification *)note {
    //: Reachability *reachability = [note object];
    Reachability *reachability = [note object];
    //: if ([reachability currentReachabilityStatus] != NotReachable) {
    if ([reachability currentReachabilityStatus] != NotReachable) {
        //: [[DiffuseStubCoordinatorBrilliant sharedConfig] fetchLatestDomainWithCompletion:^(BOOL success) {
        [[DiffuseStubCoordinatorBrilliant always] brain:^(BOOL success) {
            //: if (success) {
            if (success) {

            //: } else {
            } else {

            }
        //: }]; 
        }]; // 网络恢复时更新域名
    }
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: [self setUpSubNav];
    [self detailed];
    //: [[NIMSDK sharedSDK].systemNotificationManager addDelegate:self];
    [[NIMSDK sharedSDK].systemNotificationManager addDelegate:self];
    //: [[NIMSDK sharedSDK].conversationManager addDelegate:self];
    [[NIMSDK sharedSDK].conversationManager addDelegate:self];

    //: [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(onCustomNotifyChanged:) name:@"USERCustomNotificationCountChanged" object:nil];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(fractionHistory:) name:StringFromWood_Data(appCreateStairPath) object:nil];
    //: [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(languageChanged:) name:@"NotificationLanguageChanged" object:nil];
    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(delaysing:) name:StringFromWood_Data(colorVoiceTime) object:nil];

    //: [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#A3A3A3"]} forState:UIControlStateNormal];
    [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor directTo:StringFromWood_Data(widgetThroughoutHelper)]} forState:UIControlStateNormal];
    //: [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#FF5E00"]} forState:UIControlStateSelected];
    [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor directTo:StringFromWood_Data(k_actionEnabletoURL)]} forState:UIControlStateSelected];

    //: if (@available(iOS 18, *)) {
    if (@available(iOS 18, *)) {
        //: self.delegate = self;
        self.delegate = self;
    }

    //: [self setupNetworkObserver];
    [self missionCondition];
}

//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];

    //: [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#A3A3A3"]} forState:UIControlStateNormal];
    [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor directTo:StringFromWood_Data(widgetThroughoutHelper)]} forState:UIControlStateNormal];
    //: [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:@"#FF5E00"]} forState:UIControlStateSelected];
    [[UITabBarItem appearance] setTitleTextAttributes:@{NSForegroundColorAttributeName:[UIColor directTo:StringFromWood_Data(k_actionEnabletoURL)]} forState:UIControlStateSelected];


}

//: - (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController
- (void)tabBarController:(UITabBarController *)tabBarController didSelectViewController:(UIViewController *)viewController
{
    //: [UIView setAnimationsEnabled:YES];
    [UIView setAnimationsEnabled:YES];
}

//: - (void)setUpSubNav{
- (void)detailed{
    //: NSMutableArray *handleArray = [[NSMutableArray alloc] init];
    NSMutableArray *handleArray = [[NSMutableArray alloc] init];
    //: NSMutableArray *vcArray = [[NSMutableArray alloc] init];
    NSMutableArray *vcArray = [[NSMutableArray alloc] init];
    //: [self.tabbars enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
    [self.everyNeed enumerateObjectsUsingBlock:^(id obj, NSUInteger idx, BOOL *stop) {
        //: NSDictionary * item =[self vcInfoForTabType:[obj integerValue]];
        NSDictionary * item =[self ping:[obj integerValue]];
        //: NSString *vcName = item[@"vc"];
        NSString *vcName = item[@"vc"];
//        NSString *title  = item[TabbarTitle];
        //: NSString *title = @"";
        NSString *title = @"";
        //: if(idx == 0){
        if(idx == 0){
            //: title = [CommandAlongsideLocation getTextWithKey:@"activity_user_profile_chat"];
            title = [CommandAlongsideLocation notebook:StringFromWood_Data(screenMemoryDict)];
        //: }else if (idx == 1){
        }else if (idx == 1){
            //: title = [CommandAlongsideLocation getTextWithKey:@"discovery"];
            title = [CommandAlongsideLocation notebook:StringFromWood_Data(screenWatchJourneyKey)];
        //: }else if (idx == 2){
        }else if (idx == 2){
            //: title = [CommandAlongsideLocation getTextWithKey:@"contacts_list_title"];
            title = [CommandAlongsideLocation notebook:StringFromWood_Data(layoutTailEvent)];
        //: }else if (idx == 3){
        }else if (idx == 3){
            //: title = [CommandAlongsideLocation getTextWithKey:@"main_tab_my"];
            title = [CommandAlongsideLocation notebook:StringFromWood_Data(constDataPath)];
        }

        //: NSString *imageName = item[@"image"];
        NSString *imageName = item[StringFromWood_Data(colorOmitString)];
        //: NSString *imageSelected = item[@"selectedImage"];
        NSString *imageSelected = item[StringFromWood_Data(networkTreatWaveHelper)];
        //: Class clazz = NSClassFromString(vcName);
        Class clazz = NSClassFromString(vcName);
        //: UIViewController *vc = [[clazz alloc] initWithNibName:nil bundle:nil];
        UIViewController *vc = [[clazz alloc] initWithNibName:nil bundle:nil];
        //: vc.hidesBottomBarWhenPushed = NO;
        vc.hidesBottomBarWhenPushed = NO;
        //: UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:vc];
        UINavigationController *nav = [[UINavigationController alloc] initWithRootViewController:vc];

        //: UIImage *normalImage = [UIImage imageNamed:imageName];
        UIImage *normalImage = [UIImage imageNamed:imageName];
        //: normalImage = [normalImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
        normalImage = [normalImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
        //: UIImage *selectImage = [UIImage imageNamed:imageSelected];
        UIImage *selectImage = [UIImage imageNamed:imageSelected];
        //: selectImage = [selectImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];
        selectImage = [selectImage imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];

        //: nav.tabBarItem = [[UITabBarItem alloc] initWithTitle:title
        nav.tabBarItem = [[UITabBarItem alloc] initWithTitle:title
                                                       //: image:normalImage
                                                       image:normalImage
                                               //: selectedImage:selectImage];
                                               selectedImage:selectImage];
        //: nav.tabBarItem.tag = idx;
        nav.tabBarItem.tag = idx;
        //: NSInteger badge = [item[@"badgeValue"] integerValue];
        NSInteger badge = [item[StringFromWood_Data(cacheObviousListTimer)] integerValue];
        //: if (badge) {
        if (badge) {
            //: nav.tabBarItem.badgeValue = [NSString stringWithFormat:@"%zd",badge];
            nav.tabBarItem.badgeValue = [NSString stringWithFormat:@"%zd",badge];
        }
        //: ContractionUrbanBasinCount *handler = [[ContractionUrbanBasinCount alloc] initWithNavigationController:nav];
        ContractionUrbanBasinCount *handler = [[ContractionUrbanBasinCount alloc] initWithAsNow:nav];
        //: nav.delegate = handler;
        nav.delegate = handler;

        //: if (@available(iOS 15.0, *)) {
        if (@available(iOS 15.0, *)) {

            //: NSDictionary *dic = @{NSForegroundColorAttributeName : [UIColor whiteColor],
            NSDictionary *dic = @{NSForegroundColorAttributeName : [UIColor whiteColor],
                                  //: NSFontAttributeName : [UIFont boldSystemFontOfSize:11]};
                                  NSFontAttributeName : [UIFont boldSystemFontOfSize:11]};

            //: UINavigationBarAppearance *barApp = [UINavigationBarAppearance new];
            UINavigationBarAppearance *barApp = [UINavigationBarAppearance new];
            //: barApp.backgroundColor = [UIColor colorWithHexString:@"#A148FF"];
            barApp.backgroundColor = [UIColor directTo:StringFromWood_Data(networkTeamPinAlert)];
            //: barApp.shadowColor = [UIColor colorWithHexString:@"#A148FF"];
            barApp.shadowColor = [UIColor directTo:StringFromWood_Data(networkTeamPinAlert)];
            //: barApp.titleTextAttributes = dic;
            barApp.titleTextAttributes = dic;

            //: nav.navigationBar.scrollEdgeAppearance = barApp;
            nav.navigationBar.scrollEdgeAppearance = barApp;
            //: nav.navigationBar.standardAppearance = barApp;
            nav.navigationBar.standardAppearance = barApp;
        }

        //: [vcArray addObject:nav];
        [vcArray addObject:nav];
        //: [handleArray addObject:handler];
        [handleArray addObject:handler];
    //: }];
    }];
    //: self.viewControllers = [NSArray arrayWithArray:vcArray];
    self.viewControllers = [NSArray arrayWithArray:vcArray];
    //: self.navigationHandlers = [NSArray arrayWithArray:handleArray];
    self.flow = [NSArray arrayWithArray:handleArray];


    //: UINavigationBar *navBar = [UINavigationBar appearance];
    UINavigationBar *navBar = [UINavigationBar appearance];

    //: NSDictionary *dic = @{NSForegroundColorAttributeName : [UIColor blackColor],
    NSDictionary *dic = @{NSForegroundColorAttributeName : [UIColor blackColor],
                          //: NSFontAttributeName : [UIFont boldSystemFontOfSize:16]};
                          NSFontAttributeName : [UIFont boldSystemFontOfSize:16]};

    //: navBar.barTintColor = [UIColor colorWithPatternImage:[FeatherInteractionGrand getLinearGradientImage:[UIColor colorWithHexString:@"#875FFA"] and:[UIColor colorWithHexString:@"#612CF9"] directionType:FeatherInteractionGrandDirectionVertical]];
    navBar.barTintColor = [UIColor colorWithPatternImage:[FeatherInteractionGrand expert:[UIColor directTo:StringFromWood_Data(k_transitDate)] play:[UIColor directTo:StringFromWood_Data(viewDetectName)] whisper:FeatherInteractionGrandDirectionVertical]];
    //: [navBar setTitleTextAttributes:dic];
    [navBar setTitleTextAttributes:dic];
    //: [navBar setShadowImage:[UIImage new]];
    [navBar setShadowImage:[UIImage new]];
    //: [navBar setBackgroundImage:[FeatherInteractionGrand getLinearGradientImage:[UIColor colorWithHexString:@"#875FFA"] and:[UIColor colorWithHexString:@"#612CF9"] directionType:FeatherInteractionGrandDirectionLevel] forBarMetrics:UIBarMetricsDefault];
    [navBar setBackgroundImage:[FeatherInteractionGrand expert:[UIColor directTo:StringFromWood_Data(k_transitDate)] play:[UIColor directTo:StringFromWood_Data(viewDetectName)] whisper:FeatherInteractionGrandDirectionLevel] forBarMetrics:UIBarMetricsDefault];

    //: navBar.translucent = YES;
    navBar.translucent = YES;
    //: navBar.tintColor = [UIColor grayColor];
    navBar.tintColor = [UIColor grayColor];

//    self.tabBar.backgroundColor = [UIColor colorWithPatternImage:[FeatherInteractionGrand getLinearGradientImage:RGB_COLOR_String(kCommonBGColor_begin) and:RGB_COLOR_String(kCommonBGColor_end) directionType:FeatherInteractionGrandDirectionVertical]];
    //: self.tabBar.backgroundColor = [UIColor whiteColor];
    self.tabBar.backgroundColor = [UIColor whiteColor];
    //: self.tabBar.barTintColor = [UIColor blackColor];
    self.tabBar.barTintColor = [UIColor blackColor];
    //: self.tabBar.backgroundImage = [UIImage new];
    self.tabBar.backgroundImage = [UIImage new];
    //: self.tabBar.frame = CGRectMake(0, [UIScreen mainScreen].bounds.size.height - (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(window)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49), [UIScreen mainScreen].bounds.size.width, (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(window)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49));
    self.tabBar.frame = CGRectMake(0, [UIScreen mainScreen].bounds.size.height - (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(forestSpecialled)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49), [UIScreen mainScreen].bounds.size.width, (({ BOOL isPhoneX = NO; if (@available(iOS 11.0, *)) { UIEdgeInsets insets = ({UIEdgeInsets i; if(@available(iOS 11.0, *)) {i = ({UIWindow *win = nil; if (@available(iOS 13.0, *)) { NSSet *connectedScenes = [UIApplication sharedApplication].connectedScenes; for (UIScene *scene in connectedScenes) { if ([scene isKindOfClass:[UIWindowScene class]] && scene.activationState == UISceneActivationStateForegroundActive) { UIWindowScene *windowScene = (UIWindowScene *)scene; for (UIWindow *w in windowScene.windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = windowScene.windows.firstObject; } if (win) { break; } } } } if (!win) { for (UIWindow *w in [UIApplication sharedApplication].windows) { if (w.isKeyWindow) { win = w; break; } } if (!win) { win = [UIApplication sharedApplication].windows.firstObject; } } if (!win) { if ([[UIApplication sharedApplication] delegate] && [[[UIApplication sharedApplication] delegate] respondsToSelector:@selector(forestSpecialled)]) { win = [[[UIApplication sharedApplication] delegate] window]; } } win;}).safeAreaInsets;} else {i = UIEdgeInsetsZero;} i;}); isPhoneX = (insets.bottom > 0.0) && (UI_USER_INTERFACE_IDIOM() == UIUserInterfaceIdiomPhone); } isPhoneX;}) ? 49 + 35 : 49));
//    self.tabBar.layer.cornerRadius = (49/2);
    //: self.tabBar.translucent = YES;
    self.tabBar.translucent = YES;
    //: self.tabBar.layer.shadowColor = [UIColor blackColor].CGColor;
    self.tabBar.layer.shadowColor = [UIColor blackColor].CGColor;
    //: self.tabBar.layer.shadowOpacity = 0.05; 
    self.tabBar.layer.shadowOpacity = 0.05; // 透明度 5%
    //: self.tabBar.layer.shadowOffset = CGSizeMake(0, -3);
    self.tabBar.layer.shadowOffset = CGSizeMake(0, -3);
    //: self.tabBar.layer.shadowRadius = 5;
    self.tabBar.layer.shadowRadius = 5;
}

//: - (void)onBatchMarkMessagesReadInSessions:(NSArray<NIMSession *> *)sessions
- (void)onBatchMarkMessagesReadInSessions:(NSArray<NIMSession *> *)sessions
{
    //: self.sessionUnreadCount = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    self.guideGenBalance = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: - (void)viewDidAppear:(BOOL)animated
- (void)viewDidAppear:(BOOL)animated
{
    //: [super viewDidAppear:animated];
    [super viewDidAppear:animated];
    //会话界面发送拍摄的视频，拍摄结束后点击发送后可能顶部会有红条，导致的界面错位。
    //: self.view.frame = [UIScreen mainScreen].bounds;
    self.view.frame = [UIScreen mainScreen].bounds;
}

//: - (void)didRemoveRecentSession:(NIMRecentSession *)recentSession totalUnreadCount:(NSInteger)totalUnreadCount{
- (void)didRemoveRecentSession:(NIMRecentSession *)recentSession totalUnreadCount:(NSInteger)totalUnreadCount{
    //: self.sessionUnreadCount = totalUnreadCount;
    self.guideGenBalance = totalUnreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: #pragma mark - NIMSystemNotificationManagerDelegate
#pragma mark - NIMSystemNotificationManagerDelegate
//: - (void)onSystemNotificationCountChanged:(NSInteger)unreadCount
- (void)onSystemNotificationCountChanged:(NSInteger)unreadCount
{
    //: self.systemUnreadCount = unreadCount;
    self.save = unreadCount;
    //: [self refreshContactBadge];
    [self moment];
}

//: - (void)allMessagesDeleted{
- (void)allMessagesDeleted{
    //: self.sessionUnreadCount = 0;
    self.guideGenBalance = 0;
    //: [self refreshSessionBadge];
    [self untilProud];
}

//: - (void)setupNetworkObserver {
- (void)missionCondition {
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(networkChanged:)
                                             selector:@selector(createering:)
                                                 //: name:kReachabilityChangedNotification
                                                 name:kReachabilityChangedNotification
                                               //: object:nil];
                                               object:nil];
    //: Reachability *reachability = [Reachability reachabilityForInternetConnection];
    Reachability *reachability = [Reachability reachabilityForInternetConnection];
    //: [reachability startNotifier];
    [reachability startNotifier];
}

//: - (void)refreshSessionBadge{
- (void)untilProud{
    //: UINavigationController *nav = self.viewControllers[DensityCompareTypeMessageList];
    UINavigationController *nav = self.viewControllers[DensityCompareTypeMessageList];
    //: nav.tabBarItem.badgeValue = self.sessionUnreadCount ? @(self.sessionUnreadCount).stringValue : nil;
    nav.tabBarItem.badgeValue = self.guideGenBalance ? @(self.guideGenBalance).stringValue : nil;
}


//: - (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController
- (BOOL)tabBarController:(UITabBarController *)tabBarController shouldSelectViewController:(UIViewController *)viewController
{
    //: [UIView setAnimationsEnabled:NO];
    [UIView setAnimationsEnabled:NO];
    //: return YES;
    return YES;
}


//: - (void)refreshSettingBadge{
- (void)assetStop{
    //: UINavigationController *nav = self.viewControllers[DensityCompareTypeSetting];
    UINavigationController *nav = self.viewControllers[DensityCompareTypeSetting];
    //: NSInteger badge = self.customSystemUnreadCount;
    NSInteger badge = self.mode;
    //: nav.tabBarItem.badgeValue = badge ? @(badge).stringValue : nil;
    nav.tabBarItem.badgeValue = badge ? @(badge).stringValue : nil;
}

//: + (instancetype)instance{
+ (instancetype)spark{
    //: UIViewController *vc = [UIApplication sharedApplication].delegate.window.rootViewController;
    UIViewController *vc = [UIApplication sharedApplication].delegate.window.rootViewController;
    //: if ([vc isKindOfClass:[DensityCompareController class]]) {
    if ([vc isKindOfClass:[DensityCompareController class]]) {
        //: return (DensityCompareController *)vc;
        return (DensityCompareController *)vc;
    //: }else{
    }else{
        //: return nil;
        return nil;
    }
}


//: - (void)messagesDeletedInSession:(NIMSession *)session{
- (void)messagesDeletedInSession:(NIMSession *)session{
    //: self.sessionUnreadCount = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    self.guideGenBalance = [NIMSDK sharedSDK].conversationManager.allUnreadCount;
    //: [self refreshSessionBadge];
    [self untilProud];
}



//: @end
@end

Byte * Wood_DataToCache(Byte *data) {
    int driver = data[0];
    int projectionOceanReduction = data[1];
    Byte alongsidePaint = data[2];
    int leaf = data[3];
    if (!driver) return data + leaf;
    for (int i = leaf; i < leaf + projectionOceanReduction; i++) {
        int value = data[i] + alongsidePaint;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[leaf + projectionOceanReduction] = 0;
    return data + leaf;
}

NSString *StringFromWood_Data(Byte *data) {
    return [NSString stringWithUTF8String:(char *)Wood_DataToCache(data)];
}
